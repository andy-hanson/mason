{"version":3,"sources":["meta/compile/private/verify/verify.js"],"names":[],"mappings":"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","file":"meta/compile/private/verify/verify.js","sourcesContent":["import { code } from '../../CompileError'\nimport E, * as EExports from '../../Expression'\nimport Opts from '../Opts'\nimport type from '../U/type'\nimport { ifElse } from '../U/Op'\nimport { cons, head, isEmpty, toArray } from '../U/Bag'\nimport { assert, implementMany } from '../U/util'\nimport verifyLines from './verifyLines'\nimport Vx from './Vx'\nimport { v, vm } from './util'\n\nexport default function verify(cx, e) {\n\tconst vx = new Vx(cx)\n\te.verify(e, vx)\n\tverifyLocalUse(vx)\n\treturn vx.vr\n}\n\nfunction verifyLocalUse(vx) {\n\tconst vr = vx.vr\n\tfor (let local of vr.localToInfo.keys()) {\n\t\tconst info = vr.localToInfo.get(local)\n\t\tconst noNonDebug = isEmpty(info.nonDebugAccesses)\n\t\tif (noNonDebug && isEmpty(info.debugAccesses))\n\t\t\tvx.warnIf(!local.okToNotUse, local.loc, () =>\n\t\t\t\t`Unused local variable ${code(local.name)}.`)\n\t\telse if (info.isInDebug)\n\t\t\tvx.check(noNonDebug, () => head(info.nonDebugAccesses).loc, () =>\n\t\t\t\t`Debug-only local ${code(local.name)} used outside of debug.`)\n\t\telse\n\t\t\tvx.warnIf(!local.okToNotUse && noNonDebug, local.loc, () =>\n\t\t\t\t`Local ${code(local.name)} used only in debug.`)\n\t}\n}\n\nimplementMany(EExports, 'verify', {\n\tAssign(_, vx) {\n\t\tconst doV = () => vm(vx, [ _.assignee, _.value ])\n\t\tif (_.assignee.isLazy)\n\t\t\tvx.withBlockLocals(doV)\n\t\telse\n\t\t\tdoV()\n\t},\n\tBlockDo(_, vx) { verifyLines(vx, _.lines) },\n\tBlockVal(_, vx) {\n\t\tconst newLocals = verifyLines(vx, _.lines)\n\t\tvx.plusLocals(newLocals, () => v(vx)(_.returned))\n\t},\n\tBlockWrap(_, vx) {\n\t\tvx.setEIsInGenerator(_)\n\t\tv(vx)(_.block)\n\t},\n\tCaseDo: verifyCase,\n\tCaseVal(_, vx) {\n\t\tvx.setEIsInGenerator(_)\n\t\tverifyCase(_, vx)\n\t},\n\t// Only reach here for in/out condition\n\tDebug(_, vx) { verifyLines(vx, [ _ ]) },\n\tEndLoop(_, vx) {\n\t\tifElse(vx.opLoop,\n\t\t\tloop => vx.setEndLoop(_, loop),\n\t\t\t() => vx.fail(_.loc, 'Not in a loop.'))\n\t},\n\tFun(_, vx) {\n\t\tvx.withBlockLocals(() => {\n\t\t\tvx.check(isEmpty(_.opResDeclare) || _.block instanceof EExports.BlockVal, _.loc,\n\t\t\t\t'Function with return condition must return something.')\n\t\t\t_.args.forEach((arg) => arg.opType.forEach(v(vx)))\n\t\t\tvx.withInGenerator(_.k === '~|', () => {\n\t\t\t\tconst allArgs = _.args.concat(_.opRestArg)\n\t\t\t\tallArgs.forEach(_ => vx.registerLocal(_))\n\t\t\t\tvx.plusLocals(allArgs, () => {\n\t\t\t\t\t_.opIn.forEach(v(vx))\n\t\t\t\t\tv(vx)(_.block)\n\t\t\t\t\t_.opResDeclare.forEach(rd => {\n\t\t\t\t\t\tv(vx)(rd)\n\t\t\t\t\t\tvx.registerLocal(rd)\n\t\t\t\t\t})\n\t\t\t\t\t_.opOut.forEach(o => vx.plusLocals(_.opResDeclare, () => v(vx)(o)))\n\t\t\t\t})\n\t\t\t})\n\t\t})\n\t},\n\tGlobalAccess() { },\n\tLocalAccess(_, vx) { vx.localAccess(_) },\n\tLoop(_, vx) { vx.withInLoop(_, () => v(vx)(_.block)) },\n\t// Adding LocalDeclares to the available locals is done by Fun and buildVxBlockLine.\n\tLocalDeclare(_, vx) { _.opType.map(v(vx)) },\n\tMapEntry(_, vx) {\n\t\tv(vx)(_.key)\n\t\tv(vx)(_.val)\n\t},\n\tModule(_, vx) {\n\t\tconst useLocals = verifyUses(vx, _.uses, _.debugUses)\n\t\tvx.plusLocals(useLocals, () => v(vx)(_.block))\n\t},\n\tYield(_, vx) {\n\t\tvx.check(vx.isInGenerator, _.loc, 'Cannot yield outside of generator context')\n\t\tv(vx)(_.yielded)\n\t},\n\tYieldTo(_, vx) {\n\t\tvx.check(vx.isInGenerator, _.loc, 'Cannot yield outside of generator context')\n\t\tv(vx)(_.yieldedTo)\n\t},\n\n\t// These ones just recurse to their children.\n\tAssignDestructure(_, vx) {\n\t\tv(vx)(_.value)\n\t\tvm(vx, _.assignees)\n\t},\n\tCall(_, vx) {\n\t\tv(vx)(_.called)\n\t\tvm(vx, _.args)\n\t},\n\tCaseDoPart: verifyCasePart,\n\tCaseValPart: verifyCasePart,\n\tObjReturn(_, vx) { vm(vx, _.opObjed) },\n\tObjSimple(_, vx) {\n\t\tObject.getOwnPropertyNames(_.keysVals).forEach(key => v(vx)(_.keysVals[key]))\n\t},\n\tLazy(_, vx) { vx.withBlockLocals(() => v(vx)(_.value)) },\n\tListReturn() { },\n\tListEntry(_, vx) { v(vx)(_.value) },\n\tListSimple(_, vx) { _.parts.map(v(vx)) },\n\tELiteral(_, vx) { vx.warnIf(_.k === 'js', _.loc, 'Js literal') },\n\tMapReturn() { },\n\tMember(_, vx) { v(vx)(_.object) },\n\tModuleDefaultExport(_, vx) { v(vx)(_.value) },\n\tQuote(_, vx) { vm(vx, _.parts) },\n\tSpecial() { },\n\tSplat(_, vx) { v(vx)(_.splatted) }\n})\n\nfunction verifyCase(_, vx) {\n\tconst newLocals = []\n\t_.opCased.forEach(cased => {\n\t\tvx.registerLocal(cased.assignee)\n\t\tv(vx)(cased)\n\t\tnewLocals.push(cased.assignee)\n\t})\n\tvx.plusLocals(newLocals, () => {\n\t\tvm(vx, _.parts)\n\t\tvm(vx, _.opElse)\n\t})\n}\n\nfunction verifyCasePart(_, vx) {\n\tv(vx)(_.test)\n\tv(vx)(_.result)\n}\n\nfunction verifyUses(vx, uses, debugUses) {\n\tconst useLocals = []\n\tuses.forEach(use => {\n\t\tif (!(use instanceof EExports.UseDo)) {\n\t\t\ttype(use, EExports.Use)\n\t\t\tuse.used.concat(use.opUseDefault).forEach(_ => {\n\t\t\t\tvx.registerLocal(_)\n\t\t\t\tuseLocals.push(_)\n\t\t\t})\n\t\t}\n\t})\n\tvx.withInDebug(true, () =>\n\t\tdebugUses.forEach(use =>\n\t\t\tuse.used.concat(use.opUseDefault).forEach(_ => {\n\t\t\t\tvx.registerLocal(_)\n\t\t\t\tuseLocals.push(_)\n\t\t\t})))\n\treturn useLocals\n}\n\n"],"sourceRoot":"/src"}