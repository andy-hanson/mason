if (typeof define !== 'function') var define = require('amdefine')(module);define(['exports', 'esast/dist/Loc', 'tupl/dist/tupl', 'tupl/dist/type', './private/language'], function (exports, _esastDistLoc, _tuplDistTupl, _tuplDistType, _privateLanguage) {
	'use strict';

	Object.defineProperty(exports, '__esModule', {
		value: true
	});

	function _interopRequire(obj) { return obj && obj.__esModule ? obj['default'] : obj; }

	var _Loc = _interopRequire(_esastDistLoc);

	var _tupl = _interopRequire(_tuplDistTupl);

	const MsAst = (0, _tuplDistTupl.abstract)('MsAst', Object, 'doc');
	exports.default = MsAst;
	const LineContent = (0, _tuplDistTupl.abstract)('ValOrDo', MsAst, 'Valid part of a Block.'),
	      Do = (0, _tuplDistTupl.abstract)('Do', LineContent, '\n\t\tThese can only appear as lines in a Block.\n\t\tNot to be confused with Generator expressions resulting from `do` keyword.'),
	      Val = (0, _tuplDistTupl.abstract)('Val', LineContent, 'These can appear in any expression.');

	exports.LineContent = LineContent;
	exports.Do = Do;
	exports.Val = Val;
	const makeType = function (superType) {
		return function (name, doc, namesTypes, protoProps, tuplProps) {
			return (
				// TODO: provide actual docs...
				(0, _tupl)(name, superType, doc, ['loc', _Loc].concat(namesTypes), protoProps, tuplProps)
			);
		};
	};
	const m = makeType(MsAst),
	      d = makeType(Do),
	      v = makeType(Val);

	const LD_Const = 0,
	      LD_Lazy = 1,
	      LD_Mutable = 2,
	      LocalDeclare = m('LocalDeclare', 'TODO:DOC', ['name', String, 'opType', (0, _tuplDistType.Nullable)(Val), 'kind', Number], {
		isLazy: function () {
			return this.kind === LD_Lazy;
		},
		isMutable: function () {
			return this.kind === LD_Mutable;
		}
	}, {
		// Can't call this 'name' because LocalDeclare.name is 'LocalDeclare'
		declareName: function (loc) {
			return LocalDeclare.plain(loc, 'name');
		},
		focus: function (loc) {
			return LocalDeclare.plain(loc, '_');
		},
		noType: function (loc, name, isLazy) {
			return LocalDeclare(loc, name, null, isLazy ? LD_Lazy : LD_Const);
		},
		plain: function (loc, name) {
			return LocalDeclare.noType(loc, name, false);
		}
	}),
	      LocalDeclareRes = makeType(LocalDeclare)('LocalDeclareRes', 'TODO:DOC', ['opType', (0, _tuplDistType.Nullable)(Val)], {
		name: 'res',
		kind: LD_Const
	}),
	      Debug = d('Debug', 'TODO:DOC', ['lines', [LineContent]]),
	      Block = (0, _tuplDistTupl.abstract)('Block', MsAst, 'TODO:DOC'),
	      BlockDo = makeType(Block)('BlockDo', 'TODO:DOC', ['lines', [LineContent]]),
	      BlockVal = (0, _tuplDistTupl.abstract)('BlockVal', Block, 'TODO:DOC'),
	      BlockWithReturn = makeType(BlockVal)('BlockWithReturn', 'TODO:DOC', ['lines', [LineContent], 'returned', Val]),
	      BlockObj = makeType(BlockVal)('BlockObj', 'TODO:DOC', ['lines', [LineContent], 'keys', [LocalDeclare], 'opObjed', (0, _tuplDistType.Nullable)(Val), 'opName', (0, _tuplDistType.Nullable)(String)]),
	      BagEntry = m('BagEntry', 'TODO:DOC', ['value', Val]),
	      BlockBag = makeType(BlockVal)('BlockBag', 'TODO:DOC', ['lines', [(0, _tuplDistType.Union)(LineContent, BagEntry)]]),
	      MapEntry = m('MapEntry', 'TODO:DOC', ['key', Val, 'val', Val]),
	      BlockMap = makeType(BlockVal)('BlockMap', 'TODO:DOC', ['lines', [(0, _tuplDistType.Union)(LineContent, MapEntry)]]),
	      LocalAccess = v('LocalAccess', 'TODO:DOC', ['name', String], {}, { focus: function (loc) {
			return LocalAccess(loc, '_');
		} }),
	      Assign = d('Assign', 'TODO:DOC', ['assignee', LocalDeclare, 'value', Val], {}, { focus: function (loc, value) {
			return Assign(loc, LocalDeclare.focus(loc), value);
		} }),
	      AssignDestructure = d('AssignDestructure', 'TODO:DOC', ['assignees', [LocalDeclare], 'value', Val], {
		// All assignees must share the same kind.
		kind: function () {
			return this.assignees[0].kind;
		}
	}),
	      AssignMutate = d('AssignMutate', 'TODO:DOC', ['name', String, 'value', Val]),
	      GlobalAccess = v('GlobalAccess', 'TODO:DOC', ['name', _privateLanguage.JsGlobals]),
	     

	// Module
	UseDo = m('UseDo', 'TODO:DOC', ['path', String]),
	      Use = m('Use', 'TODO:DOC', ['path', String, 'used', [LocalDeclare], 'opUseDefault', (0, _tuplDistType.Nullable)(LocalDeclare)]),
	      Module = m('Module', 'TODO:DOC', ['doUses', [UseDo], 'uses', [Use], 'debugUses', [Use], 'lines', [Do], 'exports', [LocalDeclare], 'opDefaultExport', (0, _tuplDistType.Nullable)(Val)]),
	     

	// Data
	BagSimple = v('ListSimple', 'TODO:DOC', ['parts', [Val]]),
	      ObjPair = m('ObjPair', 'TODO:DOC', ['key', String, 'value', Val]),
	     
	// Verifier checks that no two pairs may have the same key.
	ObjSimple = v('ObjSimple', 'TODO:DOC', ['pairs', [ObjPair]]),
	     

	// Case
	Pattern = m('Pattern', 'TODO:DOC', ['type', Val, 'locals', [LocalDeclare], 'patterned', LocalAccess]),
	      CaseDoPart = m('CaseDoPart', 'TODO:DOC', ['test', (0, _tuplDistType.Union)(Val, Pattern), 'result', BlockDo]),
	      CaseValPart = m('CaseValPart', 'TODO:DOC', ['test', (0, _tuplDistType.Union)(Val, Pattern), 'result', BlockVal]),
	      CaseDo = d('CaseDo', 'TODO:DOC', ['opCased', (0, _tuplDistType.Nullable)(Assign), 'parts', [CaseDoPart], 'opElse', (0, _tuplDistType.Nullable)(BlockDo)]),
	     
	// Unlike CaseDo, this has `return` statements.
	CaseVal = v('CaseVal', 'TODO:DOC', ['opCased', (0, _tuplDistType.Nullable)(Assign), 'parts', [CaseValPart], 'opElse', (0, _tuplDistType.Nullable)(BlockVal)]),
	     

	// Loops
	ForDoPlain = d('ForDoPlain', 'TODO:DOC', ['block', BlockDo]),
	      ForDoWithBag = d('ForDoWithBag', 'TODO:DOC', ['element', LocalDeclare, 'bag', Val, 'block', BlockDo]),
	      BreakDo = d('BreakDo', 'TODO:DOC', []),
	     

	// Other statements
	IfDo = d('IfDo', 'TODO:DOC', ['test', Val, 'result', BlockDo]),
	      UnlessDo = d('UnlessDo', 'TODO:DOC', ['test', Val, 'result', BlockDo]),
	     

	// Generators
	Yield = v('Yield', 'TODO:DOC', ['yielded', Val]),
	      YieldTo = v('YieldTo', 'TODO:DOC', ['yieldedTo', Val]),
	     

	// Expressions
	Splat = m('Splat', 'TODO:DOC', ['splatted', Val]),
	      Call = v('Call', 'TODO:DOC', ['called', Val, 'args', [(0, _tuplDistType.Union)(Val, Splat)]], {}, {
		contains: function (loc, testType, tested) {
			return Call(loc, SpecialVal(loc, SV_Contains), [testType, tested]);
		},
		sub: function (loc, args) {
			return Call(loc, SpecialVal(loc, SV_Sub), args);
		}
	}),
	      BlockWrap = v('BlockWrap', 'TODO:DOC', ['block', BlockVal]),
	      Fun = v('Fun', 'TODO:DOC', ['isGenerator', Boolean, 'args', [LocalDeclare], 'opRestArg', (0, _tuplDistType.Nullable)(LocalDeclare), 'block', Block, 'opIn', (0, _tuplDistType.Nullable)(Debug),
	// If non-empty, block should be a BlockVal,
	// and either it has a type or opOut is non-empty.
	'opResDeclare', (0, _tuplDistType.Nullable)(LocalDeclareRes), 'opOut', (0, _tuplDistType.Nullable)(Debug), 'name', (0, _tuplDistType.Nullable)(String)]),
	      Lazy = v('Lazy', 'TODO:DOC', ['value', Val]),
	      NumberLiteral = v('NumberLiteral', 'TODO:DOC', ['value', Number]),
	      Member = v('Member', 'TODO:DOC', ['object', Val, 'name', String]),
	     
	// parts are Strings interleaved with Vals.
	Quote = v('Quote', 'TODO:DOC', ['parts', [Object]], {}, {
		forString: function (loc, str) {
			return Quote(loc, [str]);
		}
	}),
	      SD_Debugger = 0,
	      SpecialDo = d('SpecialDo', 'TODO:DOC', ['kind', Number]),
	      SV_Contains = 0,
	      SV_False = 1,
	      SV_Null = 2,
	      SV_Sub = 3,
	      SV_This = 4,
	      SV_ThisModuleDirectory = 5,
	      SV_True = 6,
	      SV_Undefined = 7,
	     
	// k is a SP_***
	SpecialVal = v('Special', 'TODO:DOC', ['kind', Number]);
	exports.LD_Const = LD_Const;
	exports.LD_Lazy = LD_Lazy;
	exports.LD_Mutable = LD_Mutable;
	exports.LocalDeclare = LocalDeclare;
	exports.LocalDeclareRes = LocalDeclareRes;
	exports.Debug = Debug;
	exports.Block = Block;
	exports.BlockDo = BlockDo;
	exports.BlockVal = BlockVal;
	exports.BlockWithReturn = BlockWithReturn;
	exports.BlockObj = BlockObj;
	exports.BagEntry = BagEntry;
	exports.BlockBag = BlockBag;
	exports.MapEntry = MapEntry;
	exports.BlockMap = BlockMap;
	exports.LocalAccess = LocalAccess;
	exports.Assign = Assign;
	exports.AssignDestructure = AssignDestructure;
	exports.AssignMutate = AssignMutate;
	exports.GlobalAccess = GlobalAccess;
	exports.UseDo = UseDo;
	exports.Use = Use;
	exports.Module = Module;
	exports.BagSimple = BagSimple;
	exports.ObjPair = ObjPair;
	exports.ObjSimple = ObjSimple;
	exports.Pattern = Pattern;
	exports.CaseDoPart = CaseDoPart;
	exports.CaseValPart = CaseValPart;
	exports.CaseDo = CaseDo;
	exports.CaseVal = CaseVal;
	exports.ForDoPlain = ForDoPlain;
	exports.ForDoWithBag = ForDoWithBag;
	exports.BreakDo = BreakDo;
	exports.IfDo = IfDo;
	exports.UnlessDo = UnlessDo;
	exports.Yield = Yield;
	exports.YieldTo = YieldTo;
	exports.Splat = Splat;
	exports.Call = Call;
	exports.BlockWrap = BlockWrap;
	exports.Fun = Fun;
	exports.Lazy = Lazy;
	exports.NumberLiteral = NumberLiteral;
	exports.Member = Member;
	exports.Quote = Quote;
	exports.SD_Debugger = SD_Debugger;
	exports.SpecialDo = SpecialDo;
	exports.SV_Contains = SV_Contains;
	exports.SV_False = SV_False;
	exports.SV_Null = SV_Null;
	exports.SV_Sub = SV_Sub;
	exports.SV_This = SV_This;
	exports.SV_ThisModuleDirectory = SV_ThisModuleDirectory;
	exports.SV_True = SV_True;
	exports.SV_Undefined = SV_Undefined;
	exports.SpecialVal = SpecialVal;
});
//# sourceMappingURL=data:application/json;base64,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R0FBUCxPQUFPO1NBS1AsS0FBSyxHQUFMLEtBQUs7U0FHTCxJQUFJLEdBQUosSUFBSTtTQVlKLFNBQVMsR0FBVCxTQUFTO1NBSVQsR0FBRyxHQUFILEdBQUc7U0FlSCxJQUFJLEdBQUosSUFBSTtTQUdKLGFBQWEsR0FBYixhQUFhO1NBR2IsTUFBTSxHQUFOLE1BQU07U0FPTixLQUFLLEdBQUwsS0FBSztTQVFMLFdBQVcsR0FBWCxXQUFXO1NBQ1gsU0FBUyxHQUFULFNBQVM7U0FJVCxXQUFXLEdBQVgsV0FBVztTQUNYLFFBQVEsR0FBUixRQUFRO1NBQ1IsT0FBTyxHQUFQLE9BQU87U0FDUCxNQUFNLEdBQU4sTUFBTTtTQUNOLE9BQU8sR0FBUCxPQUFPO1NBQ1Asc0JBQXNCLEdBQXRCLHNCQUFzQjtTQUN0QixPQUFPLEdBQVAsT0FBTztTQUNQLFlBQVksR0FBWixZQUFZO1NBRVosVUFBVSxHQUFWLFVBQVUiLCJmaWxlIjoibWV0YS9jb21waWxlL01zQXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvYyBmcm9tICdlc2FzdC9kaXN0L0xvYydcbmltcG9ydCB0dXBsLCB7IGFic3RyYWN0IH0gZnJvbSAndHVwbC9kaXN0L3R1cGwnXG5pbXBvcnQgeyBOdWxsYWJsZSwgVW5pb24gfSBmcm9tICd0dXBsL2Rpc3QvdHlwZSdcbmltcG9ydCB7IEpzR2xvYmFscyB9IGZyb20gJy4vcHJpdmF0ZS9sYW5ndWFnZSdcblxuY29uc3QgTXNBc3QgPSBhYnN0cmFjdCgnTXNBc3QnLCBPYmplY3QsICdkb2MnKVxuZXhwb3J0IGRlZmF1bHQgTXNBc3RcblxuZXhwb3J0IGNvbnN0XG5cdExpbmVDb250ZW50ID0gYWJzdHJhY3QoJ1ZhbE9yRG8nLCBNc0FzdCwgJ1ZhbGlkIHBhcnQgb2YgYSBCbG9jay4nKSxcblx0RG8gPSBhYnN0cmFjdCgnRG8nLCBMaW5lQ29udGVudCwgYFxuXHRcdFRoZXNlIGNhbiBvbmx5IGFwcGVhciBhcyBsaW5lcyBpbiBhIEJsb2NrLlxuXHRcdE5vdCB0byBiZSBjb25mdXNlZCB3aXRoIEdlbmVyYXRvciBleHByZXNzaW9ucyByZXN1bHRpbmcgZnJvbSBcXGBkb1xcYCBrZXl3b3JkLmApLFxuXHRWYWwgPSBhYnN0cmFjdCgnVmFsJywgTGluZUNvbnRlbnQsICdUaGVzZSBjYW4gYXBwZWFyIGluIGFueSBleHByZXNzaW9uLicpXG5cbmNvbnN0IG1ha2VUeXBlID0gc3VwZXJUeXBlID0+IChuYW1lLCBkb2MsIG5hbWVzVHlwZXMsIHByb3RvUHJvcHMsIHR1cGxQcm9wcykgPT5cblx0Ly8gVE9ETzogcHJvdmlkZSBhY3R1YWwgZG9jcy4uLlxuXHR0dXBsKG5hbWUsIHN1cGVyVHlwZSwgZG9jLCBbICdsb2MnLCBMb2MgXS5jb25jYXQobmFtZXNUeXBlcyksIHByb3RvUHJvcHMsIHR1cGxQcm9wcylcbmNvbnN0XG5cdG0gPSBtYWtlVHlwZShNc0FzdCksIGQgPSBtYWtlVHlwZShEbyksIHYgPSBtYWtlVHlwZShWYWwpXG5cbmV4cG9ydCBjb25zdFxuXHRMRF9Db25zdCA9IDAsXG5cdExEX0xhenkgPSAxLFxuXHRMRF9NdXRhYmxlID0gMixcblx0TG9jYWxEZWNsYXJlID0gbSgnTG9jYWxEZWNsYXJlJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFtcblx0XHRcdCduYW1lJywgU3RyaW5nLFxuXHRcdFx0J29wVHlwZScsIE51bGxhYmxlKFZhbCksXG5cdFx0XHQna2luZCcsIE51bWJlclxuXHRcdF0sXG5cdFx0e1xuXHRcdFx0aXNMYXp5KCkgeyByZXR1cm4gdGhpcy5raW5kID09PSBMRF9MYXp5IH0sXG5cdFx0XHRpc011dGFibGUoKSB7IHJldHVybiB0aGlzLmtpbmQgPT09IExEX011dGFibGUgfVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0Ly8gQ2FuJ3QgY2FsbCB0aGlzICduYW1lJyBiZWNhdXNlIExvY2FsRGVjbGFyZS5uYW1lIGlzICdMb2NhbERlY2xhcmUnXG5cdFx0XHRkZWNsYXJlTmFtZTogbG9jID0+XG5cdFx0XHRcdExvY2FsRGVjbGFyZS5wbGFpbihsb2MsICduYW1lJyksXG5cdFx0XHRmb2N1czogbG9jID0+XG5cdFx0XHRcdExvY2FsRGVjbGFyZS5wbGFpbihsb2MsICdfJyksXG5cdFx0XHRub1R5cGU6IChsb2MsIG5hbWUsIGlzTGF6eSkgPT5cblx0XHRcdFx0TG9jYWxEZWNsYXJlKGxvYywgbmFtZSwgbnVsbCwgaXNMYXp5ID8gTERfTGF6eSA6IExEX0NvbnN0KSxcblx0XHRcdHBsYWluOiAobG9jLCBuYW1lKSA9PlxuXHRcdFx0XHRMb2NhbERlY2xhcmUubm9UeXBlKGxvYywgbmFtZSwgZmFsc2UpXG5cdFx0fSksXG5cdExvY2FsRGVjbGFyZVJlcyA9IG1ha2VUeXBlKExvY2FsRGVjbGFyZSkoJ0xvY2FsRGVjbGFyZVJlcycsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICdvcFR5cGUnLCBOdWxsYWJsZShWYWwpIF0sXG5cdFx0e1xuXHRcdFx0bmFtZTogJ3JlcycsXG5cdFx0XHRraW5kOiBMRF9Db25zdFxuXHRcdH0pLFxuXG5cdERlYnVnID0gZCgnRGVidWcnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAnbGluZXMnLCBbTGluZUNvbnRlbnRdIF0pLFxuXG5cdEJsb2NrID0gYWJzdHJhY3QoJ0Jsb2NrJywgTXNBc3QsICdUT0RPOkRPQycpLFxuXHRCbG9ja0RvID0gbWFrZVR5cGUoQmxvY2spKCdCbG9ja0RvJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ2xpbmVzJywgW0xpbmVDb250ZW50XSBdKSxcblx0QmxvY2tWYWwgPSBhYnN0cmFjdCgnQmxvY2tWYWwnLCBCbG9jaywgJ1RPRE86RE9DJyksXG5cdEJsb2NrV2l0aFJldHVybiA9IG1ha2VUeXBlKEJsb2NrVmFsKSgnQmxvY2tXaXRoUmV0dXJuJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ2xpbmVzJywgW0xpbmVDb250ZW50XSwgJ3JldHVybmVkJywgVmFsIF0pLFxuXG5cdEJsb2NrT2JqID0gbWFrZVR5cGUoQmxvY2tWYWwpKCdCbG9ja09iaicsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbXG5cdFx0XHQnbGluZXMnLCBbTGluZUNvbnRlbnRdLFxuXHRcdFx0J2tleXMnLCBbTG9jYWxEZWNsYXJlXSxcblx0XHRcdCdvcE9iamVkJywgTnVsbGFibGUoVmFsKSxcblx0XHRcdCdvcE5hbWUnLCBOdWxsYWJsZShTdHJpbmcpXG5cdFx0XSksXG5cblx0QmFnRW50cnkgPSBtKCdCYWdFbnRyeScsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICd2YWx1ZScsIFZhbCBdKSxcblx0QmxvY2tCYWcgPSBtYWtlVHlwZShCbG9ja1ZhbCkoJ0Jsb2NrQmFnJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ2xpbmVzJywgW1VuaW9uKExpbmVDb250ZW50LCBCYWdFbnRyeSldIF0pLFxuXG5cdE1hcEVudHJ5ID0gbSgnTWFwRW50cnknLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAna2V5JywgVmFsLCAndmFsJywgVmFsIF0pLFxuXHRCbG9ja01hcCA9IG1ha2VUeXBlKEJsb2NrVmFsKSgnQmxvY2tNYXAnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAnbGluZXMnLCBbVW5pb24oTGluZUNvbnRlbnQsIE1hcEVudHJ5KV0gXSksXG5cblx0TG9jYWxBY2Nlc3MgPSB2KCdMb2NhbEFjY2VzcycsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICduYW1lJywgU3RyaW5nIF0sXG5cdFx0eyB9LFxuXHRcdHsgZm9jdXM6IGxvYyA9PiBMb2NhbEFjY2Vzcyhsb2MsICdfJykgfSksXG5cdEFzc2lnbiA9IGQoJ0Fzc2lnbicsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbXG5cdFx0XHQnYXNzaWduZWUnLCBMb2NhbERlY2xhcmUsXG5cdFx0XHQndmFsdWUnLCBWYWxcblx0XHRdLFxuXHRcdHsgfSxcblx0XHR7IGZvY3VzOiAobG9jLCB2YWx1ZSkgPT4gQXNzaWduKGxvYywgTG9jYWxEZWNsYXJlLmZvY3VzKGxvYyksIHZhbHVlKSB9KSxcblx0QXNzaWduRGVzdHJ1Y3R1cmUgPSBkKCdBc3NpZ25EZXN0cnVjdHVyZScsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbXG5cdFx0XHQnYXNzaWduZWVzJywgW0xvY2FsRGVjbGFyZV0sXG5cdFx0XHQndmFsdWUnLCBWYWxcblx0XHRdLFxuXHRcdHtcblx0XHRcdC8vIEFsbCBhc3NpZ25lZXMgbXVzdCBzaGFyZSB0aGUgc2FtZSBraW5kLlxuXHRcdFx0a2luZCgpIHsgcmV0dXJuIHRoaXMuYXNzaWduZWVzWzBdLmtpbmQgfVxuXHRcdH0pLFxuXHRBc3NpZ25NdXRhdGUgPSBkKCdBc3NpZ25NdXRhdGUnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0W1xuXHRcdFx0J25hbWUnLCBTdHJpbmcsXG5cdFx0XHQndmFsdWUnLCBWYWxcblx0XHRdKSxcblx0R2xvYmFsQWNjZXNzID0gdignR2xvYmFsQWNjZXNzJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ25hbWUnLCBKc0dsb2JhbHMgXSksXG5cblx0Ly8gTW9kdWxlXG5cdFVzZURvID0gbSgnVXNlRG8nLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAncGF0aCcsIFN0cmluZyBdKSxcblx0VXNlID0gbSgnVXNlJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFtcblx0XHRcdCdwYXRoJywgU3RyaW5nLFxuXHRcdFx0J3VzZWQnLCBbTG9jYWxEZWNsYXJlXSxcblx0XHRcdCdvcFVzZURlZmF1bHQnLCBOdWxsYWJsZShMb2NhbERlY2xhcmUpXG5cdFx0XSksXG5cdE1vZHVsZSA9IG0oJ01vZHVsZScsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbXG5cdFx0XHQnZG9Vc2VzJywgW1VzZURvXSxcblx0XHRcdCd1c2VzJywgW1VzZV0sXG5cdFx0XHQnZGVidWdVc2VzJywgW1VzZV0sXG5cdFx0XHQnbGluZXMnLCBbRG9dLFxuXHRcdFx0J2V4cG9ydHMnLCBbTG9jYWxEZWNsYXJlXSxcblx0XHRcdCdvcERlZmF1bHRFeHBvcnQnLCBOdWxsYWJsZShWYWwpXG5cdFx0XSksXG5cblx0Ly8gRGF0YVxuXHRCYWdTaW1wbGUgPSB2KCdMaXN0U2ltcGxlJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ3BhcnRzJywgW1ZhbF0gXSksXG5cdE9ialBhaXIgPSBtKCdPYmpQYWlyJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFtcblx0XHRcdCdrZXknLCBTdHJpbmcsXG5cdFx0XHQndmFsdWUnLCBWYWxcblx0XHRdKSxcblx0Ly8gVmVyaWZpZXIgY2hlY2tzIHRoYXQgbm8gdHdvIHBhaXJzIG1heSBoYXZlIHRoZSBzYW1lIGtleS5cblx0T2JqU2ltcGxlID0gdignT2JqU2ltcGxlJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ3BhaXJzJywgW09ialBhaXJdIF0pLFxuXG5cdC8vIENhc2Vcblx0UGF0dGVybiA9IG0oJ1BhdHRlcm4nLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0W1xuXHRcdFx0J3R5cGUnLCBWYWwsXG5cdFx0XHQnbG9jYWxzJywgW0xvY2FsRGVjbGFyZV0sXG5cdFx0XHQncGF0dGVybmVkJywgTG9jYWxBY2Nlc3Ncblx0XHRdKSxcblx0Q2FzZURvUGFydCA9IG0oJ0Nhc2VEb1BhcnQnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0W1xuXHRcdFx0J3Rlc3QnLCBVbmlvbihWYWwsIFBhdHRlcm4pLFxuXHRcdFx0J3Jlc3VsdCcsIEJsb2NrRG9cblx0XHRdKSxcblx0Q2FzZVZhbFBhcnQgPSBtKCdDYXNlVmFsUGFydCcsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbXG5cdFx0XHQndGVzdCcsIFVuaW9uKFZhbCwgUGF0dGVybiksXG5cdFx0XHQncmVzdWx0JywgQmxvY2tWYWxcblx0XHRdKSxcblx0Q2FzZURvID0gZCgnQ2FzZURvJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFtcblx0XHRcdCdvcENhc2VkJywgTnVsbGFibGUoQXNzaWduKSxcblx0XHRcdCdwYXJ0cycsIFtDYXNlRG9QYXJ0XSxcblx0XHRcdCdvcEVsc2UnLCBOdWxsYWJsZShCbG9ja0RvKVxuXHRcdF0pLFxuXHQvLyBVbmxpa2UgQ2FzZURvLCB0aGlzIGhhcyBgcmV0dXJuYCBzdGF0ZW1lbnRzLlxuXHRDYXNlVmFsID0gdignQ2FzZVZhbCcsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbXG5cdFx0XHQnb3BDYXNlZCcsIE51bGxhYmxlKEFzc2lnbiksXG5cdFx0XHQncGFydHMnLCBbQ2FzZVZhbFBhcnRdLFxuXHRcdFx0J29wRWxzZScsIE51bGxhYmxlKEJsb2NrVmFsKVxuXHRcdF0pLFxuXG5cdC8vIExvb3BzXG5cdEZvckRvUGxhaW4gPSBkKCdGb3JEb1BsYWluJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ2Jsb2NrJywgQmxvY2tEbyBdKSxcblx0Rm9yRG9XaXRoQmFnID0gZCgnRm9yRG9XaXRoQmFnJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ2VsZW1lbnQnLCBMb2NhbERlY2xhcmUsICdiYWcnLCBWYWwsICdibG9jaycsIEJsb2NrRG8gXSksXG5cdEJyZWFrRG8gPSBkKCdCcmVha0RvJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgXSksXG5cblx0Ly8gT3RoZXIgc3RhdGVtZW50c1xuXHRJZkRvID0gZCgnSWZEbycsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICd0ZXN0JywgVmFsLCAncmVzdWx0JywgQmxvY2tEbyBdKSxcblx0VW5sZXNzRG8gPSBkKCdVbmxlc3NEbycsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICd0ZXN0JywgVmFsLCAncmVzdWx0JywgQmxvY2tEbyBdKSxcblxuXHQvLyBHZW5lcmF0b3JzXG5cdFlpZWxkID0gdignWWllbGQnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAneWllbGRlZCcsIFZhbCBdKSxcblx0WWllbGRUbyA9IHYoJ1lpZWxkVG8nLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAneWllbGRlZFRvJywgVmFsIF0pLFxuXG5cdC8vIEV4cHJlc3Npb25zXG5cdFNwbGF0ID0gbSgnU3BsYXQnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAnc3BsYXR0ZWQnLCBWYWwgXSksXG5cdENhbGwgPSB2KCdDYWxsJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFtcblx0XHRcdCdjYWxsZWQnLCBWYWwsXG5cdFx0XHQnYXJncycsIFtVbmlvbihWYWwsIFNwbGF0KV1cblx0XHRdLFxuXHRcdHsgfSxcblx0XHR7XG5cdFx0XHRjb250YWluczogKGxvYywgdGVzdFR5cGUsIHRlc3RlZCkgPT5cblx0XHRcdFx0Q2FsbChsb2MsIFNwZWNpYWxWYWwobG9jLCBTVl9Db250YWlucyksIFsgdGVzdFR5cGUsIHRlc3RlZCBdKSxcblx0XHRcdHN1YjogKGxvYywgYXJncykgPT4gQ2FsbChsb2MsIFNwZWNpYWxWYWwobG9jLCBTVl9TdWIpLCBhcmdzKVxuXHRcdH0pLFxuXHRCbG9ja1dyYXAgPSB2KCdCbG9ja1dyYXAnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAnYmxvY2snLCBCbG9ja1ZhbCBdKSxcblxuXHRGdW4gPSB2KCdGdW4nLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0W1xuXHRcdFx0J2lzR2VuZXJhdG9yJywgQm9vbGVhbixcblx0XHRcdCdhcmdzJywgW0xvY2FsRGVjbGFyZV0sXG5cdFx0XHQnb3BSZXN0QXJnJywgTnVsbGFibGUoTG9jYWxEZWNsYXJlKSxcblx0XHRcdCdibG9jaycsIEJsb2NrLFxuXHRcdFx0J29wSW4nLCBOdWxsYWJsZShEZWJ1ZyksXG5cdFx0XHQvLyBJZiBub24tZW1wdHksIGJsb2NrIHNob3VsZCBiZSBhIEJsb2NrVmFsLFxuXHRcdFx0Ly8gYW5kIGVpdGhlciBpdCBoYXMgYSB0eXBlIG9yIG9wT3V0IGlzIG5vbi1lbXB0eS5cblx0XHRcdCdvcFJlc0RlY2xhcmUnLCBOdWxsYWJsZShMb2NhbERlY2xhcmVSZXMpLFxuXHRcdFx0J29wT3V0JywgTnVsbGFibGUoRGVidWcpLFxuXHRcdFx0J25hbWUnLCBOdWxsYWJsZShTdHJpbmcpXG5cdFx0XSksXG5cblx0TGF6eSA9IHYoJ0xhenknLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAndmFsdWUnLCBWYWwgXSksXG5cdE51bWJlckxpdGVyYWwgPSB2KCdOdW1iZXJMaXRlcmFsJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ3ZhbHVlJywgTnVtYmVyIF0pLFxuXHRNZW1iZXIgPSB2KCdNZW1iZXInLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0W1xuXHRcdFx0J29iamVjdCcsIFZhbCxcblx0XHRcdCduYW1lJywgU3RyaW5nXG5cdFx0XSksXG5cdC8vIHBhcnRzIGFyZSBTdHJpbmdzIGludGVybGVhdmVkIHdpdGggVmFscy5cblx0UXVvdGUgPSB2KCdRdW90ZScsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICdwYXJ0cycsIFtPYmplY3RdIF0sXG5cdFx0eyB9LFxuXHRcdHtcblx0XHRcdGZvclN0cmluZzogKGxvYywgc3RyKSA9PiBRdW90ZShsb2MsIFsgc3RyIF0pXG5cdFx0fSksXG5cblx0U0RfRGVidWdnZXIgPSAwLFxuXHRTcGVjaWFsRG8gPSBkKCdTcGVjaWFsRG8nLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAna2luZCcsIE51bWJlciBdKSxcblxuXHRTVl9Db250YWlucyA9IDAsXG5cdFNWX0ZhbHNlID0gMSxcblx0U1ZfTnVsbCA9IDIsXG5cdFNWX1N1YiA9IDMsXG5cdFNWX1RoaXMgPSA0LFxuXHRTVl9UaGlzTW9kdWxlRGlyZWN0b3J5ID0gNSxcblx0U1ZfVHJ1ZSA9IDYsXG5cdFNWX1VuZGVmaW5lZCA9IDcsXG5cdC8vIGsgaXMgYSBTUF8qKipcblx0U3BlY2lhbFZhbCA9IHYoJ1NwZWNpYWwnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAna2luZCcsIE51bWJlciBdKVxuIl0sInNvdXJjZVJvb3QiOiIvc3JjIn0=