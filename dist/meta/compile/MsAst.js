if (typeof define !== 'function') var define = require('amdefine')(module);define(['exports', 'esast/dist/Loc', 'tupl/dist/tupl', 'tupl/dist/type', './private/language'], function (exports, _esastDistLoc, _tuplDistTupl, _tuplDistType, _privateLanguage) {
	'use strict';

	Object.defineProperty(exports, '__esModule', {
		value: true
	});

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

	var _Loc = _interopRequireDefault(_esastDistLoc);

	var _tupl = _interopRequireDefault(_tuplDistTupl);

	const MsAst = (0, _tuplDistTupl.abstract)('MsAst', Object, 'doc');
	exports.default = MsAst;
	const LineContent = (0, _tuplDistTupl.abstract)('ValOrDo', MsAst, 'Valid part of a Block.'),
	      Do = (0, _tuplDistTupl.abstract)('Do', LineContent, '\n\t\tThese can only appear as lines in a Block.\n\t\tNot to be confused with Generator expressions resulting from `do` keyword.'),
	      Val = (0, _tuplDistTupl.abstract)('Val', LineContent, 'These can appear in any expression.');

	exports.LineContent = LineContent;
	exports.Do = Do;
	exports.Val = Val;
	const makeType = function (superType) {
		return function (name, doc, namesTypes, protoProps, tuplProps) {
			return (
				// TODO: provide actual docs...
				(0, _tupl.default)(name, superType, doc, ['loc', _Loc.default].concat(namesTypes), protoProps, tuplProps)
			);
		};
	};

	const m = makeType(MsAst),
	      d = makeType(Do),
	      v = makeType(Val);

	const LD_Const = 0,
	      LD_Lazy = 1,
	      LD_Mutable = 2,
	      LocalDeclare = m('LocalDeclare', 'TODO:DOC', ['name', String, 'opType', (0, _tuplDistType.Nullable)(Val), 'kind', Number], {
		isLazy: function () {
			return this.kind === LD_Lazy;
		},
		isMutable: function () {
			return this.kind === LD_Mutable;
		}
	}, {
		// Can't call this 'name' because LocalDeclare.name is 'LocalDeclare'
		declareName: function (loc) {
			return LocalDeclare.plain(loc, 'name');
		},
		focus: function (loc) {
			return LocalDeclare.plain(loc, '_');
		},
		noType: function (loc, name, isLazy) {
			return LocalDeclare(loc, name, null, isLazy ? LD_Lazy : LD_Const);
		},
		plain: function (loc, name) {
			return LocalDeclare.noType(loc, name, false);
		}
	}),
	      LocalDeclareRes = makeType(LocalDeclare)('LocalDeclareRes', 'TODO:DOC', ['opType', (0, _tuplDistType.Nullable)(Val)], {
		name: 'res',
		kind: LD_Const
	}),
	      Debug = d('Debug', 'TODO:DOC', ['lines', [LineContent]]),
	      Block = (0, _tuplDistTupl.abstract)('Block', MsAst, 'TODO:DOC'),
	      BlockDo = makeType(Block)('BlockDo', 'TODO:DOC', ['lines', [LineContent]]),
	      BlockVal = (0, _tuplDistTupl.abstract)('BlockVal', Block, 'TODO:DOC'),
	      BlockWithReturn = makeType(BlockVal)('BlockWithReturn', 'TODO:DOC', ['lines', [LineContent], 'returned', Val]),
	      BlockObj = makeType(BlockVal)('BlockObj', 'TODO:DOC', ['lines', [LineContent], 'keys', [LocalDeclare], 'opObjed', (0, _tuplDistType.Nullable)(Val), 'opName', (0, _tuplDistType.Nullable)(String)]),
	      BagEntry = m('BagEntry', 'TODO:DOC', ['value', Val]),
	      BlockBag = makeType(BlockVal)('BlockBag', 'TODO:DOC', ['lines', [(0, _tuplDistType.Union)(LineContent, BagEntry)]]),
	      MapEntry = m('MapEntry', 'TODO:DOC', ['key', Val, 'val', Val]),
	      BlockMap = makeType(BlockVal)('BlockMap', 'TODO:DOC', ['lines', [(0, _tuplDistType.Union)(LineContent, MapEntry)]]),
	      LocalAccess = v('LocalAccess', 'TODO:DOC', ['name', String], {}, { focus: function (loc) {
			return LocalAccess(loc, '_');
		} }),
	      Assign = d('Assign', 'TODO:DOC', ['assignee', LocalDeclare, 'value', Val], {}, { focus: function (loc, value) {
			return Assign(loc, LocalDeclare.focus(loc), value);
		} }),
	      AssignDestructure = d('AssignDestructure', 'TODO:DOC', ['assignees', [LocalDeclare], 'value', Val], {
		// All assignees must share the same kind.
		kind: function () {
			return this.assignees[0].kind;
		}
	}),
	      AssignMutate = d('AssignMutate', 'TODO:DOC', ['name', String, 'value', Val]),
	      GlobalAccess = v('GlobalAccess', 'TODO:DOC', ['name', _privateLanguage.JsGlobals]),
	     

	// Module
	UseDo = m('UseDo', 'TODO:DOC', ['path', String]),
	      Use = m('Use', 'TODO:DOC', ['path', String, 'used', [LocalDeclare], 'opUseDefault', (0, _tuplDistType.Nullable)(LocalDeclare)]),
	      Module = m('Module', 'TODO:DOC', ['doUses', [UseDo], 'uses', [Use], 'debugUses', [Use], 'lines', [Do], 'exports', [LocalDeclare], 'opDefaultExport', (0, _tuplDistType.Nullable)(Val)]),
	     

	// Data
	BagSimple = v('ListSimple', 'TODO:DOC', ['parts', [Val]]),
	      ObjPair = m('ObjPair', 'TODO:DOC', ['key', String, 'value', Val]),
	     
	// Verifier checks that no two pairs may have the same key.
	ObjSimple = v('ObjSimple', 'TODO:DOC', ['pairs', [ObjPair]]),
	     

	// Case
	Pattern = m('Pattern', 'TODO:DOC', ['type', Val, 'locals', [LocalDeclare], 'patterned', LocalAccess]),
	      CaseDoPart = m('CaseDoPart', 'TODO:DOC', ['test', (0, _tuplDistType.Union)(Val, Pattern), 'result', BlockDo]),
	      CaseValPart = m('CaseValPart', 'TODO:DOC', ['test', (0, _tuplDistType.Union)(Val, Pattern), 'result', BlockVal]),
	      CaseDo = d('CaseDo', 'TODO:DOC', ['opCased', (0, _tuplDistType.Nullable)(Assign), 'parts', [CaseDoPart], 'opElse', (0, _tuplDistType.Nullable)(BlockDo)]),
	     
	// Unlike CaseDo, this has `return` statements.
	CaseVal = v('CaseVal', 'TODO:DOC', ['opCased', (0, _tuplDistType.Nullable)(Assign), 'parts', [CaseValPart], 'opElse', (0, _tuplDistType.Nullable)(BlockVal)]),
	     

	// Loops
	ForDoPlain = d('ForDoPlain', 'TODO:DOC', ['block', BlockDo]),
	      ForDoWithBag = d('ForDoWithBag', 'TODO:DOC', ['element', LocalDeclare, 'bag', Val, 'block', BlockDo]),
	      BreakDo = d('BreakDo', 'TODO:DOC', []),
	     

	// Other statements
	IfDo = d('IfDo', 'TODO:DOC', ['test', Val, 'result', BlockDo]),
	      UnlessDo = d('UnlessDo', 'TODO:DOC', ['test', Val, 'result', BlockDo]),
	     

	// Generators
	Yield = v('Yield', 'TODO:DOC', ['yielded', Val]),
	      YieldTo = v('YieldTo', 'TODO:DOC', ['yieldedTo', Val]),
	     

	// Expressions
	Splat = m('Splat', 'TODO:DOC', ['splatted', Val]),
	      Call = v('Call', 'TODO:DOC', ['called', Val, 'args', [(0, _tuplDistType.Union)(Val, Splat)]], {}, {
		contains: function (loc, testType, tested) {
			return Call(loc, SpecialVal(loc, SV_Contains), [testType, tested]);
		},
		sub: function (loc, args) {
			return Call(loc, SpecialVal(loc, SV_Sub), args);
		}
	}),
	      BlockWrap = v('BlockWrap', 'TODO:DOC', ['block', BlockVal]),
	      Fun = v('Fun', 'TODO:DOC', ['isGenerator', Boolean, 'args', [LocalDeclare], 'opRestArg', (0, _tuplDistType.Nullable)(LocalDeclare), 'block', Block, 'opIn', (0, _tuplDistType.Nullable)(Debug),
	// If non-empty, block should be a BlockVal,
	// and either it has a type or opOut is non-empty.
	'opResDeclare', (0, _tuplDistType.Nullable)(LocalDeclareRes), 'opOut', (0, _tuplDistType.Nullable)(Debug), 'name', (0, _tuplDistType.Nullable)(String)]),
	      Lazy = v('Lazy', 'TODO:DOC', ['value', Val]),
	      NumberLiteral = v('NumberLiteral', 'TODO:DOC', ['value', Number]),
	      Member = v('Member', 'TODO:DOC', ['object', Val, 'name', String]),
	     
	// parts are Strings interleaved with Vals.
	Quote = v('Quote', 'TODO:DOC', ['parts', [Object]], {}, {
		forString: function (loc, str) {
			return Quote(loc, [str]);
		}
	}),
	      SD_Debugger = 0,
	      SpecialDo = d('SpecialDo', 'TODO:DOC', ['kind', Number]),
	      SV_Contains = 0,
	      SV_False = 1,
	      SV_Null = 2,
	      SV_Sub = 3,
	      SV_This = 4,
	      SV_ThisModuleDirectory = 5,
	      SV_True = 6,
	      SV_Undefined = 7,
	     
	// k is a SP_***
	SpecialVal = v('Special', 'TODO:DOC', ['kind', Number]);
	exports.LD_Const = LD_Const;
	exports.LD_Lazy = LD_Lazy;
	exports.LD_Mutable = LD_Mutable;
	exports.LocalDeclare = LocalDeclare;
	exports.LocalDeclareRes = LocalDeclareRes;
	exports.Debug = Debug;
	exports.Block = Block;
	exports.BlockDo = BlockDo;
	exports.BlockVal = BlockVal;
	exports.BlockWithReturn = BlockWithReturn;
	exports.BlockObj = BlockObj;
	exports.BagEntry = BagEntry;
	exports.BlockBag = BlockBag;
	exports.MapEntry = MapEntry;
	exports.BlockMap = BlockMap;
	exports.LocalAccess = LocalAccess;
	exports.Assign = Assign;
	exports.AssignDestructure = AssignDestructure;
	exports.AssignMutate = AssignMutate;
	exports.GlobalAccess = GlobalAccess;
	exports.UseDo = UseDo;
	exports.Use = Use;
	exports.Module = Module;
	exports.BagSimple = BagSimple;
	exports.ObjPair = ObjPair;
	exports.ObjSimple = ObjSimple;
	exports.Pattern = Pattern;
	exports.CaseDoPart = CaseDoPart;
	exports.CaseValPart = CaseValPart;
	exports.CaseDo = CaseDo;
	exports.CaseVal = CaseVal;
	exports.ForDoPlain = ForDoPlain;
	exports.ForDoWithBag = ForDoWithBag;
	exports.BreakDo = BreakDo;
	exports.IfDo = IfDo;
	exports.UnlessDo = UnlessDo;
	exports.Yield = Yield;
	exports.YieldTo = YieldTo;
	exports.Splat = Splat;
	exports.Call = Call;
	exports.BlockWrap = BlockWrap;
	exports.Fun = Fun;
	exports.Lazy = Lazy;
	exports.NumberLiteral = NumberLiteral;
	exports.Member = Member;
	exports.Quote = Quote;
	exports.SD_Debugger = SD_Debugger;
	exports.SpecialDo = SpecialDo;
	exports.SV_Contains = SV_Contains;
	exports.SV_False = SV_False;
	exports.SV_Null = SV_Null;
	exports.SV_Sub = SV_Sub;
	exports.SV_This = SV_This;
	exports.SV_ThisModuleDirectory = SV_ThisModuleDirectory;
	exports.SV_True = SV_True;
	exports.SV_Undefined = SV_Undefined;
	exports.SpecialVal = SpecialVal;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGEvY29tcGlsZS9Nc0FzdC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBS0EsT0FBTSxLQUFLLEdBQUcsa0JBSkMsUUFBUSxFQUlBLE9BQU8sRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUE7bUJBQy9CLEtBQUs7QUFFYixPQUNOLFdBQVcsR0FBRyxrQkFSQSxRQUFRLEVBUUMsU0FBUyxFQUFFLEtBQUssRUFBRSx3QkFBd0IsQ0FBQztPQUNsRSxFQUFFLEdBQUcsa0JBVFMsUUFBUSxFQVNSLElBQUksRUFBRSxXQUFXLHFJQUVnRDtPQUMvRSxHQUFHLEdBQUcsa0JBWlEsUUFBUSxFQVlQLEtBQUssRUFBRSxXQUFXLEVBQUUscUNBQXFDLENBQUMsQ0FBQTs7U0FKekUsV0FBVyxHQUFYLFdBQVc7U0FDWCxFQUFFLEdBQUYsRUFBRTtTQUdGLEdBQUcsR0FBSCxHQUFHO0FBRUosT0FBTSxRQUFRLEdBQUcsVUFBQSxTQUFTO1NBQUksVUFBQyxJQUFJLEVBQUUsR0FBRyxFQUFFLFVBQVUsRUFBRSxVQUFVLEVBQUUsU0FBUzs7O0FBRTFFLHVCQUFLLElBQUksRUFBRSxTQUFTLEVBQUUsR0FBRyxFQUFFLENBQUUsS0FBSyxlQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxFQUFFLFVBQVUsRUFBRSxTQUFTO0lBQUM7R0FBQTtFQUFBLENBQUE7O0FBRXJGLE9BQ0MsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUM7T0FBRSxDQUFDLEdBQUcsUUFBUSxDQUFDLEVBQUUsQ0FBQztPQUFFLENBQUMsR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUE7O0FBRWxELE9BQ04sUUFBUSxHQUFHLENBQUM7T0FDWixPQUFPLEdBQUcsQ0FBQztPQUNYLFVBQVUsR0FBRyxDQUFDO09BQ2QsWUFBWSxHQUFHLENBQUMsQ0FBQyxjQUFjLEVBQzlCLFVBQVUsRUFDVixDQUNDLE1BQU0sRUFBRSxNQUFNLEVBQ2QsUUFBUSxFQUFFLGtCQTVCSixRQUFRLEVBNEJLLEdBQUcsQ0FBQyxFQUN2QixNQUFNLEVBQUUsTUFBTSxDQUNkLEVBQ0Q7QUFDQyxRQUFNLEVBQUEsWUFBRztBQUFFLFVBQU8sSUFBSSxDQUFDLElBQUksS0FBSyxPQUFPLENBQUE7R0FBRTtBQUN6QyxXQUFTLEVBQUEsWUFBRztBQUFFLFVBQU8sSUFBSSxDQUFDLElBQUksS0FBSyxVQUFVLENBQUE7R0FBRTtFQUMvQyxFQUNEOztBQUVDLGFBQVcsRUFBRSxVQUFBLEdBQUc7VUFDZixZQUFZLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUM7R0FBQTtBQUNoQyxPQUFLLEVBQUUsVUFBQSxHQUFHO1VBQ1QsWUFBWSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsR0FBRyxDQUFDO0dBQUE7QUFDN0IsUUFBTSxFQUFFLFVBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxNQUFNO1VBQ3pCLFlBQVksQ0FBQyxHQUFHLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLEdBQUcsT0FBTyxHQUFHLFFBQVEsQ0FBQztHQUFBO0FBQzNELE9BQUssRUFBRSxVQUFDLEdBQUcsRUFBRSxJQUFJO1VBQ2hCLFlBQVksQ0FBQyxNQUFNLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxLQUFLLENBQUM7R0FBQTtFQUN0QyxDQUFDO09BQ0gsZUFBZSxHQUFHLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQyxpQkFBaUIsRUFDekQsVUFBVSxFQUNWLENBQUUsUUFBUSxFQUFFLGtCQWhETCxRQUFRLEVBZ0RNLEdBQUcsQ0FBQyxDQUFFLEVBQzNCO0FBQ0MsTUFBSSxFQUFFLEtBQUs7QUFDWCxNQUFJLEVBQUUsUUFBUTtFQUNkLENBQUM7T0FFSCxLQUFLLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFDaEIsVUFBVSxFQUNWLENBQUUsT0FBTyxFQUFFLENBQUMsV0FBVyxDQUFDLENBQUUsQ0FBQztPQUU1QixLQUFLLEdBQUcsa0JBM0RNLFFBQVEsRUEyREwsT0FBTyxFQUFFLEtBQUssRUFBRSxVQUFVLENBQUM7T0FDNUMsT0FBTyxHQUFHLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxTQUFTLEVBQ2xDLFVBQVUsRUFDVixDQUFFLE9BQU8sRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFFLENBQUM7T0FDNUIsUUFBUSxHQUFHLGtCQS9ERyxRQUFRLEVBK0RGLFVBQVUsRUFBRSxLQUFLLEVBQUUsVUFBVSxDQUFDO09BQ2xELGVBQWUsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsaUJBQWlCLEVBQ3JELFVBQVUsRUFDVixDQUFFLE9BQU8sRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUFFLFVBQVUsRUFBRSxHQUFHLENBQUUsQ0FBQztPQUU3QyxRQUFRLEdBQUcsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLFVBQVUsRUFDdkMsVUFBVSxFQUNWLENBQ0MsT0FBTyxFQUFFLENBQUMsV0FBVyxDQUFDLEVBQ3RCLE1BQU0sRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUN0QixTQUFTLEVBQUUsa0JBeEVMLFFBQVEsRUF3RU0sR0FBRyxDQUFDLEVBQ3hCLFFBQVEsRUFBRSxrQkF6RUosUUFBUSxFQXlFSyxNQUFNLENBQUMsQ0FDMUIsQ0FBQztPQUVILFFBQVEsR0FBRyxDQUFDLENBQUMsVUFBVSxFQUN0QixVQUFVLEVBQ1YsQ0FBRSxPQUFPLEVBQUUsR0FBRyxDQUFFLENBQUM7T0FDbEIsUUFBUSxHQUFHLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxVQUFVLEVBQ3ZDLFVBQVUsRUFDVixDQUFFLE9BQU8sRUFBRSxDQUFDLGtCQWpGSyxLQUFLLEVBaUZKLFdBQVcsRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFFLENBQUM7T0FFN0MsUUFBUSxHQUFHLENBQUMsQ0FBQyxVQUFVLEVBQ3RCLFVBQVUsRUFDVixDQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBRSxDQUFDO09BQzVCLFFBQVEsR0FBRyxRQUFRLENBQUMsUUFBUSxDQUFDLENBQUMsVUFBVSxFQUN2QyxVQUFVLEVBQ1YsQ0FBRSxPQUFPLEVBQUUsQ0FBQyxrQkF4RkssS0FBSyxFQXdGSixXQUFXLEVBQUUsUUFBUSxDQUFDLENBQUMsQ0FBRSxDQUFDO09BRTdDLFdBQVcsR0FBRyxDQUFDLENBQUMsYUFBYSxFQUM1QixVQUFVLEVBQ1YsQ0FBRSxNQUFNLEVBQUUsTUFBTSxDQUFFLEVBQ2xCLEVBQUcsRUFDSCxFQUFFLEtBQUssRUFBRSxVQUFBLEdBQUc7VUFBSSxXQUFXLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQztHQUFBLEVBQUUsQ0FBQztPQUN6QyxNQUFNLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFDbEIsVUFBVSxFQUNWLENBQ0MsVUFBVSxFQUFFLFlBQVksRUFDeEIsT0FBTyxFQUFFLEdBQUcsQ0FDWixFQUNELEVBQUcsRUFDSCxFQUFFLEtBQUssRUFBRSxVQUFDLEdBQUcsRUFBRSxLQUFLO1VBQUssTUFBTSxDQUFDLEdBQUcsRUFBRSxZQUFZLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxFQUFFLEtBQUssQ0FBQztHQUFBLEVBQUUsQ0FBQztPQUN4RSxpQkFBaUIsR0FBRyxDQUFDLENBQUMsbUJBQW1CLEVBQ3hDLFVBQVUsRUFDVixDQUNDLFdBQVcsRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUMzQixPQUFPLEVBQUUsR0FBRyxDQUNaLEVBQ0Q7O0FBRUMsTUFBSSxFQUFBLFlBQUc7QUFBRSxVQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFBO0dBQUU7RUFDeEMsQ0FBQztPQUNILFlBQVksR0FBRyxDQUFDLENBQUMsY0FBYyxFQUM5QixVQUFVLEVBQ1YsQ0FDQyxNQUFNLEVBQUUsTUFBTSxFQUNkLE9BQU8sRUFBRSxHQUFHLENBQ1osQ0FBQztPQUNILFlBQVksR0FBRyxDQUFDLENBQUMsY0FBYyxFQUM5QixVQUFVLEVBQ1YsQ0FBRSxNQUFNLG1CQXhIRCxTQUFTLENBd0hLLENBQUM7Ozs7QUFHdkIsTUFBSyxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQ2hCLFVBQVUsRUFDVixDQUFFLE1BQU0sRUFBRSxNQUFNLENBQUUsQ0FBQztPQUNwQixHQUFHLEdBQUcsQ0FBQyxDQUFDLEtBQUssRUFDWixVQUFVLEVBQ1YsQ0FDQyxNQUFNLEVBQUUsTUFBTSxFQUNkLE1BQU0sRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUN0QixjQUFjLEVBQUUsa0JBcElWLFFBQVEsRUFvSVcsWUFBWSxDQUFDLENBQ3RDLENBQUM7T0FDSCxNQUFNLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFDbEIsVUFBVSxFQUNWLENBQ0MsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLEVBQ2pCLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUNiLFdBQVcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUNsQixPQUFPLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFDYixTQUFTLEVBQUUsQ0FBQyxZQUFZLENBQUMsRUFDekIsaUJBQWlCLEVBQUUsa0JBOUliLFFBQVEsRUE4SWMsR0FBRyxDQUFDLENBQ2hDLENBQUM7Ozs7QUFHSCxVQUFTLEdBQUcsQ0FBQyxDQUFDLFlBQVksRUFDekIsVUFBVSxFQUNWLENBQUUsT0FBTyxFQUFFLENBQUMsR0FBRyxDQUFDLENBQUUsQ0FBQztPQUNwQixPQUFPLEdBQUcsQ0FBQyxDQUFDLFNBQVMsRUFDcEIsVUFBVSxFQUNWLENBQ0MsS0FBSyxFQUFFLE1BQU0sRUFDYixPQUFPLEVBQUUsR0FBRyxDQUNaLENBQUM7OztBQUVILFVBQVMsR0FBRyxDQUFDLENBQUMsV0FBVyxFQUN4QixVQUFVLEVBQ1YsQ0FBRSxPQUFPLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBRSxDQUFDOzs7O0FBR3hCLFFBQU8sR0FBRyxDQUFDLENBQUMsU0FBUyxFQUNwQixVQUFVLEVBQ1YsQ0FDQyxNQUFNLEVBQUUsR0FBRyxFQUNYLFFBQVEsRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUN4QixXQUFXLEVBQUUsV0FBVyxDQUN4QixDQUFDO09BQ0gsVUFBVSxHQUFHLENBQUMsQ0FBQyxZQUFZLEVBQzFCLFVBQVUsRUFDVixDQUNDLE1BQU0sRUFBRSxrQkEzS1EsS0FBSyxFQTJLUCxHQUFHLEVBQUUsT0FBTyxDQUFDLEVBQzNCLFFBQVEsRUFBRSxPQUFPLENBQ2pCLENBQUM7T0FDSCxXQUFXLEdBQUcsQ0FBQyxDQUFDLGFBQWEsRUFDNUIsVUFBVSxFQUNWLENBQ0MsTUFBTSxFQUFFLGtCQWpMUSxLQUFLLEVBaUxQLEdBQUcsRUFBRSxPQUFPLENBQUMsRUFDM0IsUUFBUSxFQUFFLFFBQVEsQ0FDbEIsQ0FBQztPQUNILE1BQU0sR0FBRyxDQUFDLENBQUMsUUFBUSxFQUNsQixVQUFVLEVBQ1YsQ0FDQyxTQUFTLEVBQUUsa0JBdkxMLFFBQVEsRUF1TE0sTUFBTSxDQUFDLEVBQzNCLE9BQU8sRUFBRSxDQUFDLFVBQVUsQ0FBQyxFQUNyQixRQUFRLEVBQUUsa0JBekxKLFFBQVEsRUF5TEssT0FBTyxDQUFDLENBQzNCLENBQUM7OztBQUVILFFBQU8sR0FBRyxDQUFDLENBQUMsU0FBUyxFQUNwQixVQUFVLEVBQ1YsQ0FDQyxTQUFTLEVBQUUsa0JBL0xMLFFBQVEsRUErTE0sTUFBTSxDQUFDLEVBQzNCLE9BQU8sRUFBRSxDQUFDLFdBQVcsQ0FBQyxFQUN0QixRQUFRLEVBQUUsa0JBak1KLFFBQVEsRUFpTUssUUFBUSxDQUFDLENBQzVCLENBQUM7Ozs7QUFHSCxXQUFVLEdBQUcsQ0FBQyxDQUFDLFlBQVksRUFDMUIsVUFBVSxFQUNWLENBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBRSxDQUFDO09BQ3RCLFlBQVksR0FBRyxDQUFDLENBQUMsY0FBYyxFQUM5QixVQUFVLEVBQ1YsQ0FBRSxTQUFTLEVBQUUsWUFBWSxFQUFFLEtBQUssRUFBRSxHQUFHLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBRSxDQUFDO09BQzNELE9BQU8sR0FBRyxDQUFDLENBQUMsU0FBUyxFQUNwQixVQUFVLEVBQ1YsRUFBRyxDQUFDOzs7O0FBR0wsS0FBSSxHQUFHLENBQUMsQ0FBQyxNQUFNLEVBQ2QsVUFBVSxFQUNWLENBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxRQUFRLEVBQUUsT0FBTyxDQUFFLENBQUM7T0FDcEMsUUFBUSxHQUFHLENBQUMsQ0FBQyxVQUFVLEVBQ3RCLFVBQVUsRUFDVixDQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsUUFBUSxFQUFFLE9BQU8sQ0FBRSxDQUFDOzs7O0FBR3BDLE1BQUssR0FBRyxDQUFDLENBQUMsT0FBTyxFQUNoQixVQUFVLEVBQ1YsQ0FBRSxTQUFTLEVBQUUsR0FBRyxDQUFFLENBQUM7T0FDcEIsT0FBTyxHQUFHLENBQUMsQ0FBQyxTQUFTLEVBQ3BCLFVBQVUsRUFDVixDQUFFLFdBQVcsRUFBRSxHQUFHLENBQUUsQ0FBQzs7OztBQUd0QixNQUFLLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFDaEIsVUFBVSxFQUNWLENBQUUsVUFBVSxFQUFFLEdBQUcsQ0FBRSxDQUFDO09BQ3JCLElBQUksR0FBRyxDQUFDLENBQUMsTUFBTSxFQUNkLFVBQVUsRUFDVixDQUNDLFFBQVEsRUFBRSxHQUFHLEVBQ2IsTUFBTSxFQUFFLENBQUMsa0JBdk9PLEtBQUssRUF1T04sR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQzNCLEVBQ0QsRUFBRyxFQUNIO0FBQ0MsVUFBUSxFQUFFLFVBQUMsR0FBRyxFQUFFLFFBQVEsRUFBRSxNQUFNO1VBQy9CLElBQUksQ0FBQyxHQUFHLEVBQUUsVUFBVSxDQUFDLEdBQUcsRUFBRSxXQUFXLENBQUMsRUFBRSxDQUFFLFFBQVEsRUFBRSxNQUFNLENBQUUsQ0FBQztHQUFBO0FBQzlELEtBQUcsRUFBRSxVQUFDLEdBQUcsRUFBRSxJQUFJO1VBQUssSUFBSSxDQUFDLEdBQUcsRUFBRSxVQUFVLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxFQUFFLElBQUksQ0FBQztHQUFBO0VBQzVELENBQUM7T0FDSCxTQUFTLEdBQUcsQ0FBQyxDQUFDLFdBQVcsRUFDeEIsVUFBVSxFQUNWLENBQUUsT0FBTyxFQUFFLFFBQVEsQ0FBRSxDQUFDO09BRXZCLEdBQUcsR0FBRyxDQUFDLENBQUMsS0FBSyxFQUNaLFVBQVUsRUFDVixDQUNDLGFBQWEsRUFBRSxPQUFPLEVBQ3RCLE1BQU0sRUFBRSxDQUFDLFlBQVksQ0FBQyxFQUN0QixXQUFXLEVBQUUsa0JBeFBQLFFBQVEsRUF3UFEsWUFBWSxDQUFDLEVBQ25DLE9BQU8sRUFBRSxLQUFLLEVBQ2QsTUFBTSxFQUFFLGtCQTFQRixRQUFRLEVBMFBHLEtBQUssQ0FBQzs7O0FBR3ZCLGVBQWMsRUFBRSxrQkE3UFYsUUFBUSxFQTZQVyxlQUFlLENBQUMsRUFDekMsT0FBTyxFQUFFLGtCQTlQSCxRQUFRLEVBOFBJLEtBQUssQ0FBQyxFQUN4QixNQUFNLEVBQUUsa0JBL1BGLFFBQVEsRUErUEcsTUFBTSxDQUFDLENBQ3hCLENBQUM7T0FFSCxJQUFJLEdBQUcsQ0FBQyxDQUFDLE1BQU0sRUFDZCxVQUFVLEVBQ1YsQ0FBRSxPQUFPLEVBQUUsR0FBRyxDQUFFLENBQUM7T0FDbEIsYUFBYSxHQUFHLENBQUMsQ0FBQyxlQUFlLEVBQ2hDLFVBQVUsRUFDVixDQUFFLE9BQU8sRUFBRSxNQUFNLENBQUUsQ0FBQztPQUNyQixNQUFNLEdBQUcsQ0FBQyxDQUFDLFFBQVEsRUFDbEIsVUFBVSxFQUNWLENBQ0MsUUFBUSxFQUFFLEdBQUcsRUFDYixNQUFNLEVBQUUsTUFBTSxDQUNkLENBQUM7OztBQUVILE1BQUssR0FBRyxDQUFDLENBQUMsT0FBTyxFQUNoQixVQUFVLEVBQ1YsQ0FBRSxPQUFPLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBRSxFQUNyQixFQUFHLEVBQ0g7QUFDQyxXQUFTLEVBQUUsVUFBQyxHQUFHLEVBQUUsR0FBRztVQUFLLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBRSxHQUFHLENBQUUsQ0FBQztHQUFBO0VBQzVDLENBQUM7T0FFSCxXQUFXLEdBQUcsQ0FBQztPQUNmLFNBQVMsR0FBRyxDQUFDLENBQUMsV0FBVyxFQUN4QixVQUFVLEVBQ1YsQ0FBRSxNQUFNLEVBQUUsTUFBTSxDQUFFLENBQUM7T0FFcEIsV0FBVyxHQUFHLENBQUM7T0FDZixRQUFRLEdBQUcsQ0FBQztPQUNaLE9BQU8sR0FBRyxDQUFDO09BQ1gsTUFBTSxHQUFHLENBQUM7T0FDVixPQUFPLEdBQUcsQ0FBQztPQUNYLHNCQUFzQixHQUFHLENBQUM7T0FDMUIsT0FBTyxHQUFHLENBQUM7T0FDWCxZQUFZLEdBQUcsQ0FBQzs7O0FBRWhCLFdBQVUsR0FBRyxDQUFDLENBQUMsU0FBUyxFQUN2QixVQUFVLEVBQ1YsQ0FBRSxNQUFNLEVBQUUsTUFBTSxDQUFFLENBQUMsQ0FBQTtTQWxScEIsUUFBUSxHQUFSLFFBQVE7U0FDUixPQUFPLEdBQVAsT0FBTztTQUNQLFVBQVUsR0FBVixVQUFVO1NBQ1YsWUFBWSxHQUFaLFlBQVk7U0FzQlosZUFBZSxHQUFmLGVBQWU7U0FRZixLQUFLLEdBQUwsS0FBSztTQUlMLEtBQUssR0FBTCxLQUFLO1NBQ0wsT0FBTyxHQUFQLE9BQU87U0FHUCxRQUFRLEdBQVIsUUFBUTtTQUNSLGVBQWUsR0FBZixlQUFlO1NBSWYsUUFBUSxHQUFSLFFBQVE7U0FTUixRQUFRLEdBQVIsUUFBUTtTQUdSLFFBQVEsR0FBUixRQUFRO1NBSVIsUUFBUSxHQUFSLFFBQVE7U0FHUixRQUFRLEdBQVIsUUFBUTtTQUlSLFdBQVcsR0FBWCxXQUFXO1NBS1gsTUFBTSxHQUFOLE1BQU07U0FRTixpQkFBaUIsR0FBakIsaUJBQWlCO1NBVWpCLFlBQVksR0FBWixZQUFZO1NBTVosWUFBWSxHQUFaLFlBQVk7U0FLWixLQUFLLEdBQUwsS0FBSztTQUdMLEdBQUcsR0FBSCxHQUFHO1NBT0gsTUFBTSxHQUFOLE1BQU07U0FZTixTQUFTLEdBQVQsU0FBUztTQUdULE9BQU8sR0FBUCxPQUFPO1NBT1AsU0FBUyxHQUFULFNBQVM7U0FLVCxPQUFPLEdBQVAsT0FBTztTQU9QLFVBQVUsR0FBVixVQUFVO1NBTVYsV0FBVyxHQUFYLFdBQVc7U0FNWCxNQUFNLEdBQU4sTUFBTTtTQVFOLE9BQU8sR0FBUCxPQUFPO1NBU1AsVUFBVSxHQUFWLFVBQVU7U0FHVixZQUFZLEdBQVosWUFBWTtTQUdaLE9BQU8sR0FBUCxPQUFPO1NBS1AsSUFBSSxHQUFKLElBQUk7U0FHSixRQUFRLEdBQVIsUUFBUTtTQUtSLEtBQUssR0FBTCxLQUFLO1NBR0wsT0FBTyxHQUFQLE9BQU87U0FLUCxLQUFLLEdBQUwsS0FBSztTQUdMLElBQUksR0FBSixJQUFJO1NBWUosU0FBUyxHQUFULFNBQVM7U0FJVCxHQUFHLEdBQUgsR0FBRztTQWVILElBQUksR0FBSixJQUFJO1NBR0osYUFBYSxHQUFiLGFBQWE7U0FHYixNQUFNLEdBQU4sTUFBTTtTQU9OLEtBQUssR0FBTCxLQUFLO1NBUUwsV0FBVyxHQUFYLFdBQVc7U0FDWCxTQUFTLEdBQVQsU0FBUztTQUlULFdBQVcsR0FBWCxXQUFXO1NBQ1gsUUFBUSxHQUFSLFFBQVE7U0FDUixPQUFPLEdBQVAsT0FBTztTQUNQLE1BQU0sR0FBTixNQUFNO1NBQ04sT0FBTyxHQUFQLE9BQU87U0FDUCxzQkFBc0IsR0FBdEIsc0JBQXNCO1NBQ3RCLE9BQU8sR0FBUCxPQUFPO1NBQ1AsWUFBWSxHQUFaLFlBQVk7U0FFWixVQUFVLEdBQVYsVUFBVSIsImZpbGUiOiJtZXRhL2NvbXBpbGUvTXNBc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9jIGZyb20gJ2VzYXN0L2Rpc3QvTG9jJ1xuaW1wb3J0IHR1cGwsIHsgYWJzdHJhY3QgfSBmcm9tICd0dXBsL2Rpc3QvdHVwbCdcbmltcG9ydCB7IE51bGxhYmxlLCBVbmlvbiB9IGZyb20gJ3R1cGwvZGlzdC90eXBlJ1xuaW1wb3J0IHsgSnNHbG9iYWxzIH0gZnJvbSAnLi9wcml2YXRlL2xhbmd1YWdlJ1xuXG5jb25zdCBNc0FzdCA9IGFic3RyYWN0KCdNc0FzdCcsIE9iamVjdCwgJ2RvYycpXG5leHBvcnQgZGVmYXVsdCBNc0FzdFxuXG5leHBvcnQgY29uc3Rcblx0TGluZUNvbnRlbnQgPSBhYnN0cmFjdCgnVmFsT3JEbycsIE1zQXN0LCAnVmFsaWQgcGFydCBvZiBhIEJsb2NrLicpLFxuXHREbyA9IGFic3RyYWN0KCdEbycsIExpbmVDb250ZW50LCBgXG5cdFx0VGhlc2UgY2FuIG9ubHkgYXBwZWFyIGFzIGxpbmVzIGluIGEgQmxvY2suXG5cdFx0Tm90IHRvIGJlIGNvbmZ1c2VkIHdpdGggR2VuZXJhdG9yIGV4cHJlc3Npb25zIHJlc3VsdGluZyBmcm9tIFxcYGRvXFxgIGtleXdvcmQuYCksXG5cdFZhbCA9IGFic3RyYWN0KCdWYWwnLCBMaW5lQ29udGVudCwgJ1RoZXNlIGNhbiBhcHBlYXIgaW4gYW55IGV4cHJlc3Npb24uJylcblxuY29uc3QgbWFrZVR5cGUgPSBzdXBlclR5cGUgPT4gKG5hbWUsIGRvYywgbmFtZXNUeXBlcywgcHJvdG9Qcm9wcywgdHVwbFByb3BzKSA9PlxuXHQvLyBUT0RPOiBwcm92aWRlIGFjdHVhbCBkb2NzLi4uXG5cdHR1cGwobmFtZSwgc3VwZXJUeXBlLCBkb2MsIFsgJ2xvYycsIExvYyBdLmNvbmNhdChuYW1lc1R5cGVzKSwgcHJvdG9Qcm9wcywgdHVwbFByb3BzKVxuXG5jb25zdFxuXHRtID0gbWFrZVR5cGUoTXNBc3QpLCBkID0gbWFrZVR5cGUoRG8pLCB2ID0gbWFrZVR5cGUoVmFsKVxuXG5leHBvcnQgY29uc3Rcblx0TERfQ29uc3QgPSAwLFxuXHRMRF9MYXp5ID0gMSxcblx0TERfTXV0YWJsZSA9IDIsXG5cdExvY2FsRGVjbGFyZSA9IG0oJ0xvY2FsRGVjbGFyZScsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbXG5cdFx0XHQnbmFtZScsIFN0cmluZyxcblx0XHRcdCdvcFR5cGUnLCBOdWxsYWJsZShWYWwpLFxuXHRcdFx0J2tpbmQnLCBOdW1iZXJcblx0XHRdLFxuXHRcdHtcblx0XHRcdGlzTGF6eSgpIHsgcmV0dXJuIHRoaXMua2luZCA9PT0gTERfTGF6eSB9LFxuXHRcdFx0aXNNdXRhYmxlKCkgeyByZXR1cm4gdGhpcy5raW5kID09PSBMRF9NdXRhYmxlIH1cblx0XHR9LFxuXHRcdHtcblx0XHRcdC8vIENhbid0IGNhbGwgdGhpcyAnbmFtZScgYmVjYXVzZSBMb2NhbERlY2xhcmUubmFtZSBpcyAnTG9jYWxEZWNsYXJlJ1xuXHRcdFx0ZGVjbGFyZU5hbWU6IGxvYyA9PlxuXHRcdFx0XHRMb2NhbERlY2xhcmUucGxhaW4obG9jLCAnbmFtZScpLFxuXHRcdFx0Zm9jdXM6IGxvYyA9PlxuXHRcdFx0XHRMb2NhbERlY2xhcmUucGxhaW4obG9jLCAnXycpLFxuXHRcdFx0bm9UeXBlOiAobG9jLCBuYW1lLCBpc0xhenkpID0+XG5cdFx0XHRcdExvY2FsRGVjbGFyZShsb2MsIG5hbWUsIG51bGwsIGlzTGF6eSA/IExEX0xhenkgOiBMRF9Db25zdCksXG5cdFx0XHRwbGFpbjogKGxvYywgbmFtZSkgPT5cblx0XHRcdFx0TG9jYWxEZWNsYXJlLm5vVHlwZShsb2MsIG5hbWUsIGZhbHNlKVxuXHRcdH0pLFxuXHRMb2NhbERlY2xhcmVSZXMgPSBtYWtlVHlwZShMb2NhbERlY2xhcmUpKCdMb2NhbERlY2xhcmVSZXMnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAnb3BUeXBlJywgTnVsbGFibGUoVmFsKSBdLFxuXHRcdHtcblx0XHRcdG5hbWU6ICdyZXMnLFxuXHRcdFx0a2luZDogTERfQ29uc3Rcblx0XHR9KSxcblxuXHREZWJ1ZyA9IGQoJ0RlYnVnJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ2xpbmVzJywgW0xpbmVDb250ZW50XSBdKSxcblxuXHRCbG9jayA9IGFic3RyYWN0KCdCbG9jaycsIE1zQXN0LCAnVE9ETzpET0MnKSxcblx0QmxvY2tEbyA9IG1ha2VUeXBlKEJsb2NrKSgnQmxvY2tEbycsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICdsaW5lcycsIFtMaW5lQ29udGVudF0gXSksXG5cdEJsb2NrVmFsID0gYWJzdHJhY3QoJ0Jsb2NrVmFsJywgQmxvY2ssICdUT0RPOkRPQycpLFxuXHRCbG9ja1dpdGhSZXR1cm4gPSBtYWtlVHlwZShCbG9ja1ZhbCkoJ0Jsb2NrV2l0aFJldHVybicsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICdsaW5lcycsIFtMaW5lQ29udGVudF0sICdyZXR1cm5lZCcsIFZhbCBdKSxcblxuXHRCbG9ja09iaiA9IG1ha2VUeXBlKEJsb2NrVmFsKSgnQmxvY2tPYmonLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0W1xuXHRcdFx0J2xpbmVzJywgW0xpbmVDb250ZW50XSxcblx0XHRcdCdrZXlzJywgW0xvY2FsRGVjbGFyZV0sXG5cdFx0XHQnb3BPYmplZCcsIE51bGxhYmxlKFZhbCksXG5cdFx0XHQnb3BOYW1lJywgTnVsbGFibGUoU3RyaW5nKVxuXHRcdF0pLFxuXG5cdEJhZ0VudHJ5ID0gbSgnQmFnRW50cnknLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAndmFsdWUnLCBWYWwgXSksXG5cdEJsb2NrQmFnID0gbWFrZVR5cGUoQmxvY2tWYWwpKCdCbG9ja0JhZycsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICdsaW5lcycsIFtVbmlvbihMaW5lQ29udGVudCwgQmFnRW50cnkpXSBdKSxcblxuXHRNYXBFbnRyeSA9IG0oJ01hcEVudHJ5Jyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ2tleScsIFZhbCwgJ3ZhbCcsIFZhbCBdKSxcblx0QmxvY2tNYXAgPSBtYWtlVHlwZShCbG9ja1ZhbCkoJ0Jsb2NrTWFwJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ2xpbmVzJywgW1VuaW9uKExpbmVDb250ZW50LCBNYXBFbnRyeSldIF0pLFxuXG5cdExvY2FsQWNjZXNzID0gdignTG9jYWxBY2Nlc3MnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAnbmFtZScsIFN0cmluZyBdLFxuXHRcdHsgfSxcblx0XHR7IGZvY3VzOiBsb2MgPT4gTG9jYWxBY2Nlc3MobG9jLCAnXycpIH0pLFxuXHRBc3NpZ24gPSBkKCdBc3NpZ24nLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0W1xuXHRcdFx0J2Fzc2lnbmVlJywgTG9jYWxEZWNsYXJlLFxuXHRcdFx0J3ZhbHVlJywgVmFsXG5cdFx0XSxcblx0XHR7IH0sXG5cdFx0eyBmb2N1czogKGxvYywgdmFsdWUpID0+IEFzc2lnbihsb2MsIExvY2FsRGVjbGFyZS5mb2N1cyhsb2MpLCB2YWx1ZSkgfSksXG5cdEFzc2lnbkRlc3RydWN0dXJlID0gZCgnQXNzaWduRGVzdHJ1Y3R1cmUnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0W1xuXHRcdFx0J2Fzc2lnbmVlcycsIFtMb2NhbERlY2xhcmVdLFxuXHRcdFx0J3ZhbHVlJywgVmFsXG5cdFx0XSxcblx0XHR7XG5cdFx0XHQvLyBBbGwgYXNzaWduZWVzIG11c3Qgc2hhcmUgdGhlIHNhbWUga2luZC5cblx0XHRcdGtpbmQoKSB7IHJldHVybiB0aGlzLmFzc2lnbmVlc1swXS5raW5kIH1cblx0XHR9KSxcblx0QXNzaWduTXV0YXRlID0gZCgnQXNzaWduTXV0YXRlJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFtcblx0XHRcdCduYW1lJywgU3RyaW5nLFxuXHRcdFx0J3ZhbHVlJywgVmFsXG5cdFx0XSksXG5cdEdsb2JhbEFjY2VzcyA9IHYoJ0dsb2JhbEFjY2VzcycsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICduYW1lJywgSnNHbG9iYWxzIF0pLFxuXG5cdC8vIE1vZHVsZVxuXHRVc2VEbyA9IG0oJ1VzZURvJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ3BhdGgnLCBTdHJpbmcgXSksXG5cdFVzZSA9IG0oJ1VzZScsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbXG5cdFx0XHQncGF0aCcsIFN0cmluZyxcblx0XHRcdCd1c2VkJywgW0xvY2FsRGVjbGFyZV0sXG5cdFx0XHQnb3BVc2VEZWZhdWx0JywgTnVsbGFibGUoTG9jYWxEZWNsYXJlKVxuXHRcdF0pLFxuXHRNb2R1bGUgPSBtKCdNb2R1bGUnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0W1xuXHRcdFx0J2RvVXNlcycsIFtVc2VEb10sXG5cdFx0XHQndXNlcycsIFtVc2VdLFxuXHRcdFx0J2RlYnVnVXNlcycsIFtVc2VdLFxuXHRcdFx0J2xpbmVzJywgW0RvXSxcblx0XHRcdCdleHBvcnRzJywgW0xvY2FsRGVjbGFyZV0sXG5cdFx0XHQnb3BEZWZhdWx0RXhwb3J0JywgTnVsbGFibGUoVmFsKVxuXHRcdF0pLFxuXG5cdC8vIERhdGFcblx0QmFnU2ltcGxlID0gdignTGlzdFNpbXBsZScsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICdwYXJ0cycsIFtWYWxdIF0pLFxuXHRPYmpQYWlyID0gbSgnT2JqUGFpcicsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbXG5cdFx0XHQna2V5JywgU3RyaW5nLFxuXHRcdFx0J3ZhbHVlJywgVmFsXG5cdFx0XSksXG5cdC8vIFZlcmlmaWVyIGNoZWNrcyB0aGF0IG5vIHR3byBwYWlycyBtYXkgaGF2ZSB0aGUgc2FtZSBrZXkuXG5cdE9ialNpbXBsZSA9IHYoJ09ialNpbXBsZScsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICdwYWlycycsIFtPYmpQYWlyXSBdKSxcblxuXHQvLyBDYXNlXG5cdFBhdHRlcm4gPSBtKCdQYXR0ZXJuJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFtcblx0XHRcdCd0eXBlJywgVmFsLFxuXHRcdFx0J2xvY2FscycsIFtMb2NhbERlY2xhcmVdLFxuXHRcdFx0J3BhdHRlcm5lZCcsIExvY2FsQWNjZXNzXG5cdFx0XSksXG5cdENhc2VEb1BhcnQgPSBtKCdDYXNlRG9QYXJ0Jyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFtcblx0XHRcdCd0ZXN0JywgVW5pb24oVmFsLCBQYXR0ZXJuKSxcblx0XHRcdCdyZXN1bHQnLCBCbG9ja0RvXG5cdFx0XSksXG5cdENhc2VWYWxQYXJ0ID0gbSgnQ2FzZVZhbFBhcnQnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0W1xuXHRcdFx0J3Rlc3QnLCBVbmlvbihWYWwsIFBhdHRlcm4pLFxuXHRcdFx0J3Jlc3VsdCcsIEJsb2NrVmFsXG5cdFx0XSksXG5cdENhc2VEbyA9IGQoJ0Nhc2VEbycsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbXG5cdFx0XHQnb3BDYXNlZCcsIE51bGxhYmxlKEFzc2lnbiksXG5cdFx0XHQncGFydHMnLCBbQ2FzZURvUGFydF0sXG5cdFx0XHQnb3BFbHNlJywgTnVsbGFibGUoQmxvY2tEbylcblx0XHRdKSxcblx0Ly8gVW5saWtlIENhc2VEbywgdGhpcyBoYXMgYHJldHVybmAgc3RhdGVtZW50cy5cblx0Q2FzZVZhbCA9IHYoJ0Nhc2VWYWwnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0W1xuXHRcdFx0J29wQ2FzZWQnLCBOdWxsYWJsZShBc3NpZ24pLFxuXHRcdFx0J3BhcnRzJywgW0Nhc2VWYWxQYXJ0XSxcblx0XHRcdCdvcEVsc2UnLCBOdWxsYWJsZShCbG9ja1ZhbClcblx0XHRdKSxcblxuXHQvLyBMb29wc1xuXHRGb3JEb1BsYWluID0gZCgnRm9yRG9QbGFpbicsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICdibG9jaycsIEJsb2NrRG8gXSksXG5cdEZvckRvV2l0aEJhZyA9IGQoJ0ZvckRvV2l0aEJhZycsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICdlbGVtZW50JywgTG9jYWxEZWNsYXJlLCAnYmFnJywgVmFsLCAnYmxvY2snLCBCbG9ja0RvIF0pLFxuXHRCcmVha0RvID0gZCgnQnJlYWtEbycsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbIF0pLFxuXG5cdC8vIE90aGVyIHN0YXRlbWVudHNcblx0SWZEbyA9IGQoJ0lmRG8nLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAndGVzdCcsIFZhbCwgJ3Jlc3VsdCcsIEJsb2NrRG8gXSksXG5cdFVubGVzc0RvID0gZCgnVW5sZXNzRG8nLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAndGVzdCcsIFZhbCwgJ3Jlc3VsdCcsIEJsb2NrRG8gXSksXG5cblx0Ly8gR2VuZXJhdG9yc1xuXHRZaWVsZCA9IHYoJ1lpZWxkJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ3lpZWxkZWQnLCBWYWwgXSksXG5cdFlpZWxkVG8gPSB2KCdZaWVsZFRvJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ3lpZWxkZWRUbycsIFZhbCBdKSxcblxuXHQvLyBFeHByZXNzaW9uc1xuXHRTcGxhdCA9IG0oJ1NwbGF0Jyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ3NwbGF0dGVkJywgVmFsIF0pLFxuXHRDYWxsID0gdignQ2FsbCcsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbXG5cdFx0XHQnY2FsbGVkJywgVmFsLFxuXHRcdFx0J2FyZ3MnLCBbVW5pb24oVmFsLCBTcGxhdCldXG5cdFx0XSxcblx0XHR7IH0sXG5cdFx0e1xuXHRcdFx0Y29udGFpbnM6IChsb2MsIHRlc3RUeXBlLCB0ZXN0ZWQpID0+XG5cdFx0XHRcdENhbGwobG9jLCBTcGVjaWFsVmFsKGxvYywgU1ZfQ29udGFpbnMpLCBbIHRlc3RUeXBlLCB0ZXN0ZWQgXSksXG5cdFx0XHRzdWI6IChsb2MsIGFyZ3MpID0+IENhbGwobG9jLCBTcGVjaWFsVmFsKGxvYywgU1ZfU3ViKSwgYXJncylcblx0XHR9KSxcblx0QmxvY2tXcmFwID0gdignQmxvY2tXcmFwJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ2Jsb2NrJywgQmxvY2tWYWwgXSksXG5cblx0RnVuID0gdignRnVuJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFtcblx0XHRcdCdpc0dlbmVyYXRvcicsIEJvb2xlYW4sXG5cdFx0XHQnYXJncycsIFtMb2NhbERlY2xhcmVdLFxuXHRcdFx0J29wUmVzdEFyZycsIE51bGxhYmxlKExvY2FsRGVjbGFyZSksXG5cdFx0XHQnYmxvY2snLCBCbG9jayxcblx0XHRcdCdvcEluJywgTnVsbGFibGUoRGVidWcpLFxuXHRcdFx0Ly8gSWYgbm9uLWVtcHR5LCBibG9jayBzaG91bGQgYmUgYSBCbG9ja1ZhbCxcblx0XHRcdC8vIGFuZCBlaXRoZXIgaXQgaGFzIGEgdHlwZSBvciBvcE91dCBpcyBub24tZW1wdHkuXG5cdFx0XHQnb3BSZXNEZWNsYXJlJywgTnVsbGFibGUoTG9jYWxEZWNsYXJlUmVzKSxcblx0XHRcdCdvcE91dCcsIE51bGxhYmxlKERlYnVnKSxcblx0XHRcdCduYW1lJywgTnVsbGFibGUoU3RyaW5nKVxuXHRcdF0pLFxuXG5cdExhenkgPSB2KCdMYXp5Jyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ3ZhbHVlJywgVmFsIF0pLFxuXHROdW1iZXJMaXRlcmFsID0gdignTnVtYmVyTGl0ZXJhbCcsXG5cdFx0J1RPRE86RE9DJyxcblx0XHRbICd2YWx1ZScsIE51bWJlciBdKSxcblx0TWVtYmVyID0gdignTWVtYmVyJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFtcblx0XHRcdCdvYmplY3QnLCBWYWwsXG5cdFx0XHQnbmFtZScsIFN0cmluZ1xuXHRcdF0pLFxuXHQvLyBwYXJ0cyBhcmUgU3RyaW5ncyBpbnRlcmxlYXZlZCB3aXRoIFZhbHMuXG5cdFF1b3RlID0gdignUXVvdGUnLFxuXHRcdCdUT0RPOkRPQycsXG5cdFx0WyAncGFydHMnLCBbT2JqZWN0XSBdLFxuXHRcdHsgfSxcblx0XHR7XG5cdFx0XHRmb3JTdHJpbmc6IChsb2MsIHN0cikgPT4gUXVvdGUobG9jLCBbIHN0ciBdKVxuXHRcdH0pLFxuXG5cdFNEX0RlYnVnZ2VyID0gMCxcblx0U3BlY2lhbERvID0gZCgnU3BlY2lhbERvJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ2tpbmQnLCBOdW1iZXIgXSksXG5cblx0U1ZfQ29udGFpbnMgPSAwLFxuXHRTVl9GYWxzZSA9IDEsXG5cdFNWX051bGwgPSAyLFxuXHRTVl9TdWIgPSAzLFxuXHRTVl9UaGlzID0gNCxcblx0U1ZfVGhpc01vZHVsZURpcmVjdG9yeSA9IDUsXG5cdFNWX1RydWUgPSA2LFxuXHRTVl9VbmRlZmluZWQgPSA3LFxuXHQvLyBrIGlzIGEgU1BfKioqXG5cdFNwZWNpYWxWYWwgPSB2KCdTcGVjaWFsJyxcblx0XHQnVE9ETzpET0MnLFxuXHRcdFsgJ2tpbmQnLCBOdW1iZXIgXSlcbiJdLCJzb3VyY2VSb290IjoiL3NyYyJ9