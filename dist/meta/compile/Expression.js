if (typeof define !== 'function') var define = require('amdefine')(module);define(['exports', 'esast/dist/Loc', 'tupl/dist/tupl', 'tupl/dist/type', './private/Lang', './private/U/Op'], function (exports, _esastDistLoc, _tuplDistTupl, _tuplDistType, _privateLang, _privateUOp) {
	'use strict';

	Object.defineProperty(exports, '__esModule', {
		value: true
	});

	function _interopRequire(obj) { return obj && obj.__esModule ? obj['default'] : obj; }

	var _Loc = _interopRequire(_esastDistLoc);

	var _tupl = _interopRequire(_tuplDistTupl);

	var _Op = _interopRequire(_privateUOp);

	const Expression = _tuplDistTupl.abstract('Expression', Object, 'doc');
	exports.default = Expression;
	const Do = _tuplDistTupl.abstract('Do', Expression, '\n\t\tThese can only appear as lines in a Block.\n\t\tNot to be confused with Generator expressions resulting from `do` keyword.'),
	      Val = _tuplDistTupl.abstract('Val', Expression, 'These can appear in any expression.');

	exports.Do = Do;
	exports.Val = Val;
	const makeType = function (superType) {
		return function (name) {
			for (var _len = arguments.length, namesTypes = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
				namesTypes[_key - 1] = arguments[_key];
			}

			return (
				// TODO: provide actual docs...
				_tupl(name, superType, 'doc', ['loc', _Loc].concat(namesTypes))
			);
		};
	};
	const ee = makeType(Expression),
	      ed = makeType(Do),
	      ev = makeType(Val);

	const Debug = ed('Debug', 'lines', [Expression]),
	      BlockDo = ed('BlockDo', 'lines', [Expression]),
	      BlockVal = ed('BlockVal', 'lines', [Expression], 'returned', Val),
	      ModuleDefaultExport = ed('ModuleDefaultExport', 'value', Val),
	      LocalDeclare = Object.assign(ee('LocalDeclare', 'name', String, 'opType', _Op(Val), 'isLazy', Boolean, 'okToNotUse', Boolean), {
		focus: function (loc) {
			return LocalDeclare(loc, '_', _privateUOp.None, false, false);
		},
		res: function (loc, opType) {
			return LocalDeclare(loc, 'res', opType, false, true);
		}
	}),
	      Assign = Object.assign(
	// TODO: 'k' may also be the string 'export'...
	ed('Assign', 'assignee', LocalDeclare, 'k', Number, 'value', Val), { focus: function (loc, value) {
			return Assign(loc, LocalDeclare.focus(loc), '=', value);
		} }),
	      AssignDestructure = ed('AssignDestructure', 'assignees', [LocalDeclare],
	// TODO: 'k' may also be the string 'export'...
	'k', Number, 'value', Val, 'isLazy', Boolean),
	      LocalAccess = Object.assign(ev('LocalAccess', 'name', String), { focus: function (loc) {
			return LocalAccess(loc, '_');
		} }),
	      GlobalAccess = Object.assign(ev('GlobalAccess', 'name', _privateLang.JsGlobals), {
		null: function (loc) {
			return GlobalAccess(loc, 'null');
		},
		true: function (loc) {
			return GlobalAccess(loc, 'true');
		}
	}),
	     
	// Module
	UseDo = ee('UseDo', 'path', String),
	      Use = ee('Use', 'path', String, 'used', [LocalDeclare], 'opUseDefault', _Op(LocalDeclare)),
	     
	// `block` will contain ModuleExport and ModuleDefaultExport_s
	// TODO: BlockVal and don't have `exports` object
	Module = ee('Module', 'doUses', [UseDo], 'uses', [Use], 'debugUses', [Use], 'block', BlockDo),
	     

	// Data
	// TODO: Don't store index here, do it in Vr
	ListEntry = ed('ListEntry', 'value', Val, 'index', Number),
	     
	// TODO: Don't store length here, do it in Vr
	ListReturn = ev('ListReturn', 'length', Number),
	      ListSimple = ev('ListSimple', 'parts', [Val]),
	     

	// TODO: Don't store index here, do it in Vr
	MapEntry = ed('MapEntry', 'key', Val, 'val', Val, 'index', Number),
	     
	// TODO: Don't store length here, do it in Vr
	MapReturn = ev('MapReturn', 'length', Number),
	      ObjReturn = ev('ObjReturn', 'keys', [LocalDeclare], 'debugKeys', [LocalDeclare], 'opObjed', _Op(Val), 'opDisplayName', _Op(String)),
	     
	// keysVals: values are Vals
	ObjSimple = ev('ObjSimple', 'keysVals', Object),
	     

	// Case
	Pattern = ee('Pattern', 'type', Val, 'locals', [LocalDeclare], 'patterned', LocalAccess),
	      CaseDoPart = ee('CaseDoPart', 'test', _tuplDistType.Union(Val, Pattern), 'result', BlockDo),
	      CaseValPart = ee('CaseValPart', 'test', _tuplDistType.Union(Val, Pattern), 'result', BlockVal),
	      CaseDo = ed('CaseDo', 'opCased', _Op(Assign), 'parts', [CaseDoPart], 'opElse', _Op(BlockDo)),
	     
	// Unlike CaseDo, this has `return` statements.
	CaseVal = ev('CaseVal', 'opCased', _Op(Assign), 'parts', [CaseValPart], 'opElse', _Op(BlockVal)),
	     

	// Statements
	Loop = ed('Loop', 'block', BlockDo),
	      EndLoop = ed('EndLoop'),
	     

	// Generators
	Yield = ev('Yield', 'yielded', Val),
	      YieldTo = ev('YieldTo', 'yieldedTo', Val),
	     

	// Expressions
	Call = Object.assign(ev('Call', 'called', Val, 'args', [Val]), {
		contains: function (loc, testType, tested) {
			return Call(loc, Special.contains(loc), [testType, tested]);
		},
		sub: function (loc, args) {
			return Call(loc, Special.sub(loc), args);
		}
	}),
	     
	// Only for use in a Call
	Splat = ev('Splat', 'splatted', Val),
	      BlockWrap = ev('BlockWrap', 'block', BlockVal),
	      Fun = ev('Fun', 'isGenerator', Boolean, 'args', [LocalDeclare], 'opRestArg', _Op(LocalDeclare),
	// BlockDo or BlockVal
	'block', Expression, 'opIn', _Op(Debug),
	// If non-empty, block should be a BlockVal, and either it has a type or opOut is non-empty.
	'opResDeclare', _Op(LocalDeclare), 'opOut', _Op(Debug)),
	      Lazy = ev('Lazy', 'value', Val),
	      NumberLiteral = ev('NumberLiteral', 'value', Number),
	      Member = ev('Member', 'object', Val, 'name', String),
	     
	// parts are Strings interleaved with Vals.
	Quote = Object.assign(ev('Quote', 'parts', [Object]), {
		forString: function (loc, str) {
			return Quote(loc, [str]);
		}
	}),
	      SP_Contains = 0,
	      SP_Debugger = 1,
	      SP_Sub = 2,
	      SP_This = 3,
	      SP_ThisModuleDirectory = 4,
	      Special = Object.assign(
	// k is a SP_***
	ev('Special', 'k', Number), {
		contains: function (loc) {
			return Special(loc, SP_Contains);
		},
		debugger: function (loc) {
			return Special(loc, SP_Debugger);
		},
		sub: function (loc) {
			return Special(loc, SP_Sub);
		}
	});
	exports.Debug = Debug;
	exports.BlockDo = BlockDo;
	exports.BlockVal = BlockVal;
	exports.ModuleDefaultExport = ModuleDefaultExport;
	exports.LocalDeclare = LocalDeclare;
	exports.Assign = Assign;
	exports.AssignDestructure = AssignDestructure;
	exports.LocalAccess = LocalAccess;
	exports.GlobalAccess = GlobalAccess;
	exports.UseDo = UseDo;
	exports.Use = Use;
	exports.Module = Module;
	exports.ListEntry = ListEntry;
	exports.ListReturn = ListReturn;
	exports.ListSimple = ListSimple;
	exports.MapEntry = MapEntry;
	exports.MapReturn = MapReturn;
	exports.ObjReturn = ObjReturn;
	exports.ObjSimple = ObjSimple;
	exports.Pattern = Pattern;
	exports.CaseDoPart = CaseDoPart;
	exports.CaseValPart = CaseValPart;
	exports.CaseDo = CaseDo;
	exports.CaseVal = CaseVal;
	exports.Loop = Loop;
	exports.EndLoop = EndLoop;
	exports.Yield = Yield;
	exports.YieldTo = YieldTo;
	exports.Call = Call;
	exports.Splat = Splat;
	exports.BlockWrap = BlockWrap;
	exports.Fun = Fun;
	exports.Lazy = Lazy;
	exports.NumberLiteral = NumberLiteral;
	exports.Member = Member;
	exports.Quote = Quote;
	exports.SP_Contains = SP_Contains;
	exports.SP_Debugger = SP_Debugger;
	exports.SP_Sub = SP_Sub;
	exports.SP_This = SP_This;
	exports.SP_ThisModuleDirectory = SP_ThisModuleDirectory;
	exports.Special = Special;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGEvY29tcGlsZS9FeHByZXNzaW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQU1BLE9BQU0sVUFBVSxHQUFHLGNBTEosUUFBUSxDQUtLLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUE7bUJBQ3pDLFVBQVU7QUFFbEIsT0FDTixFQUFFLEdBQUcsY0FUUyxRQUFRLENBU1IsSUFBSSxFQUFFLFVBQVUscUlBRWlEO09BQy9FLEdBQUcsR0FBRyxjQVpRLFFBQVEsQ0FZUCxLQUFLLEVBQUUsVUFBVSxFQUFFLHFDQUFxQyxDQUFDLENBQUE7O1NBSHhFLEVBQUUsR0FBRixFQUFFO1NBR0YsR0FBRyxHQUFILEdBQUc7QUFFSixPQUFNLFFBQVEsR0FBRyxVQUFBLFNBQVM7U0FBSSxVQUFDLElBQUk7cUNBQUssVUFBVTtBQUFWLGNBQVU7Ozs7O0FBRWpELFVBQUssSUFBSSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBRSxLQUFLLE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDO0lBQUM7R0FBQTtFQUFBLENBQUE7QUFDaEUsT0FDQyxFQUFFLEdBQUcsUUFBUSxDQUFDLFVBQVUsQ0FBQztPQUFFLEVBQUUsR0FBRyxRQUFRLENBQUMsRUFBRSxDQUFDO09BQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQTs7QUFFMUQsT0FDTixLQUFLLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQztPQUMxQyxPQUFPLEdBQUcsRUFBRSxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQztPQUM5QyxRQUFRLEdBQUcsRUFBRSxDQUFDLFVBQVUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxVQUFVLEVBQUUsR0FBRyxDQUFDO09BQ2pFLG1CQUFtQixHQUFHLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxPQUFPLEVB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TixpQkFBaUIsR0FBakIsaUJBQWlCO1NBTWpCLFdBQVcsR0FBWCxXQUFXO1NBR1gsWUFBWSxHQUFaLFlBQVk7U0FPWixLQUFLLEdBQUwsS0FBSztTQUNMLEdBQUcsR0FBSCxHQUFHO1NBR0gsTUFBTSxHQUFOLE1BQU07U0FJTixTQUFTLEdBQVQsU0FBUztTQUVULFVBQVUsR0FBVixVQUFVO1NBQ1YsVUFBVSxHQUFWLFVBQVU7U0FHVixRQUFRLEdBQVIsUUFBUTtTQUVSLFNBQVMsR0FBVCxTQUFTO1NBQ1QsU0FBUyxHQUFULFNBQVM7U0FNVCxTQUFTLEdBQVQsU0FBUztTQUdULE9BQU8sR0FBUCxPQUFPO1NBQ1AsVUFBVSxHQUFWLFVBQVU7U0FDVixXQUFXLEdBQVgsV0FBVztTQUNYLE1BQU0sR0FBTixNQUFNO1NBRU4sT0FBTyxHQUFQLE9BQU87U0FHUCxJQUFJLEdBQUosSUFBSTtTQUNKLE9BQU8sR0FBUCxPQUFPO1NBR1AsS0FBSyxHQUFMLEtBQUs7U0FDTCxPQUFPLEdBQVAsT0FBTztTQUdQLElBQUksR0FBSixJQUFJO1NBUUosS0FBSyxHQUFMLEtBQUs7U0FFTCxTQUFTLEdBQVQsU0FBUztTQUVULEdBQUcsR0FBSCxHQUFHO1NBV0gsSUFBSSxHQUFKLElBQUk7U0FDSixhQUFhLEdBQWIsYUFBYTtTQUNiLE1BQU0sR0FBTixNQUFNO1NBRU4sS0FBSyxHQUFMLEtBQUs7U0FRTCxXQUFXLEdBQVgsV0FBVztTQUNYLFdBQVcsR0FBWCxXQUFXO1NBQ1gsTUFBTSxHQUFOLE1BQU07U0FDTixPQUFPLEdBQVAsT0FBTztTQUNQLHNCQUFzQixHQUF0QixzQkFBc0I7U0FDdEIsT0FBTyxHQUFQLE9BQU8iLCJmaWxlIjoibWV0YS9jb21waWxlL0V4cHJlc3Npb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTG9jIGZyb20gJ2VzYXN0L2Rpc3QvTG9jJ1xuaW1wb3J0IHR1cGwsIHsgYWJzdHJhY3QgfSBmcm9tICd0dXBsL2Rpc3QvdHVwbCdcbmltcG9ydCB7IFVuaW9uIH0gZnJvbSAndHVwbC9kaXN0L3R5cGUnXG5pbXBvcnQgeyBKc0dsb2JhbHMgfSBmcm9tICcuL3ByaXZhdGUvTGFuZydcbmltcG9ydCBPcCwgeyBOb25lIH0gZnJvbSAnLi9wcml2YXRlL1UvT3AnXG5cbmNvbnN0IEV4cHJlc3Npb24gPSBhYnN0cmFjdCgnRXhwcmVzc2lvbicsIE9iamVjdCwgJ2RvYycpXG5leHBvcnQgZGVmYXVsdCBFeHByZXNzaW9uXG5cbmV4cG9ydCBjb25zdFxuXHREbyA9IGFic3RyYWN0KCdEbycsIEV4cHJlc3Npb24sIGBcblx0XHRUaGVzZSBjYW4gb25seSBhcHBlYXIgYXMgbGluZXMgaW4gYSBCbG9jay5cblx0XHROb3QgdG8gYmUgY29uZnVzZWQgd2l0aCBHZW5lcmF0b3IgZXhwcmVzc2lvbnMgcmVzdWx0aW5nIGZyb20gXFxgZG9cXGAga2V5d29yZC5gKSxcblx0VmFsID0gYWJzdHJhY3QoJ1ZhbCcsIEV4cHJlc3Npb24sICdUaGVzZSBjYW4gYXBwZWFyIGluIGFueSBleHByZXNzaW9uLicpXG5cbmNvbnN0IG1ha2VUeXBlID0gc3VwZXJUeXBlID0+IChuYW1lLCAuLi5uYW1lc1R5cGVzKSA9PlxuXHQvLyBUT0RPOiBwcm92aWRlIGFjdHVhbCBkb2NzLi4uXG5cdHR1cGwobmFtZSwgc3VwZXJUeXBlLCAnZG9jJywgWyAnbG9jJywgTG9jIF0uY29uY2F0KG5hbWVzVHlwZXMpKVxuY29uc3Rcblx0ZWUgPSBtYWtlVHlwZShFeHByZXNzaW9uKSwgZWQgPSBtYWtlVHlwZShEbyksIGV2ID0gbWFrZVR5cGUoVmFsKVxuXG5leHBvcnQgY29uc3Rcblx0RGVidWcgPSBlZCgnRGVidWcnLCAnbGluZXMnLCBbRXhwcmVzc2lvbl0pLFxuXHRCbG9ja0RvID0gZWQoJ0Jsb2NrRG8nLCAnbGluZXMnLCBbRXhwcmVzc2lvbl0pLFxuXHRCbG9ja1ZhbCA9IGVkKCdCbG9ja1ZhbCcsICdsaW5lcycsIFtFeHByZXNzaW9uXSwgJ3JldHVybmVkJywgVmFsKSxcblx0TW9kdWxlRGVmYXVsdEV4cG9ydCA9IGVkKCdNb2R1bGVEZWZhdWx0RXhwb3J0JywgJ3ZhbHVlJywgVmFsKSxcblx0TG9jYWxEZWNsYXJlID0gT2JqZWN0LmFzc2lnbihcblx0XHRlZSgnTG9jYWxEZWNsYXJlJyxcblx0XHRcdCduYW1lJywgU3RyaW5nLCAnb3BUeXBlJywgT3AoVmFsKSwgJ2lzTGF6eScsIEJvb2xlYW4sICdva1RvTm90VXNlJywgQm9vbGVhbiksXG5cdFx0e1xuXHRcdFx0Zm9jdXM6IGxvYyA9PiBMb2NhbERlY2xhcmUobG9jLCAnXycsIE5vbmUsIGZhbHNlLCBmYWxzZSksXG5cdFx0XHRyZXM6IChsb2MsIG9wVHlwZSkgPT4gTG9jYWxEZWNsYXJlKGxvYywgJ3JlcycsIG9wVHlwZSwgZmFsc2UsIHRydWUpXG5cdFx0fSksXG5cdEFzc2lnbiA9IE9iamVjdC5hc3NpZ24oXG5cdFx0Ly8gVE9ETzogJ2snIG1heSBhbHNvIGJlIHRoZSBzdHJpbmcgJ2V4cG9ydCcuLi5cblx0XHRlZCgnQXNzaWduJywgJ2Fzc2lnbmVlJywgTG9jYWxEZWNsYXJlLCAnaycsIE51bWJlciwgJ3ZhbHVlJywgVmFsKSxcblx0XHR7IGZvY3VzOiAobG9jLCB2YWx1ZSkgPT4gQXNzaWduKGxvYywgTG9jYWxEZWNsYXJlLmZvY3VzKGxvYyksICc9JywgdmFsdWUpIH0pLFxuXHRBc3NpZ25EZXN0cnVjdHVyZSA9IGVkKCdBc3NpZ25EZXN0cnVjdHVyZScsXG5cdFx0J2Fzc2lnbmVlcycsIFtMb2NhbERlY2xhcmVdLFxuXHRcdC8vIFRPRE86ICdrJyBtYXkgYWxzbyBiZSB0aGUgc3RyaW5nICdleHBvcnQnLi4uXG5cdFx0J2snLCBOdW1iZXIsXG5cdFx0J3ZhbHVlJywgVmFsLFxuXHRcdCdpc0xhenknLCBCb29sZWFuKSxcblx0TG9jYWxBY2Nlc3MgPSBPYmplY3QuYXNzaWduKFxuXHRcdGV2KCdMb2NhbEFjY2VzcycsICduYW1lJywgU3RyaW5nKSxcblx0XHR7IGZvY3VzOiBsb2MgPT4gTG9jYWxBY2Nlc3MobG9jLCAnXycpIH0pLFxuXHRHbG9iYWxBY2Nlc3MgPSBPYmplY3QuYXNzaWduKFxuXHRcdGV2KCdHbG9iYWxBY2Nlc3MnLCAnbmFtZScsIEpzR2xvYmFscyksXG5cdFx0e1xuXHRcdFx0bnVsbDogbG9jID0+IEdsb2JhbEFjY2Vzcyhsb2MsICdudWxsJyksXG5cdFx0XHR0cnVlOiBsb2MgPT4gR2xvYmFsQWNjZXNzKGxvYywgJ3RydWUnKVxuXHRcdH0pLFxuXHQvLyBNb2R1bGVcblx0VXNlRG8gPSBlZSgnVXNlRG8nLCAncGF0aCcsIFN0cmluZyksXG5cdFVzZSA9IGVlKCdVc2UnLCAncGF0aCcsIFN0cmluZywgJ3VzZWQnLCBbTG9jYWxEZWNsYXJlXSwgJ29wVXNlRGVmYXVsdCcsIE9wKExvY2FsRGVjbGFyZSkpLFxuXHQvLyBgYmxvY2tgIHdpbGwgY29udGFpbiBNb2R1bGVFeHBvcnQgYW5kIE1vZHVsZURlZmF1bHRFeHBvcnRfc1xuXHQvLyBUT0RPOiBCbG9ja1ZhbCBhbmQgZG9uJ3QgaGF2ZSBgZXhwb3J0c2Agb2JqZWN0XG5cdE1vZHVsZSA9IGVlKCdNb2R1bGUnLCAnZG9Vc2VzJywgW1VzZURvXSwgJ3VzZXMnLCBbVXNlXSwgJ2RlYnVnVXNlcycsIFtVc2VdLCAnYmxvY2snLCBCbG9ja0RvKSxcblxuXHQvLyBEYXRhXG5cdC8vIFRPRE86IERvbid0IHN0b3JlIGluZGV4IGhlcmUsIGRvIGl0IGluIFZyXG5cdExpc3RFbnRyeSA9IGVkKCdMaXN0RW50cnknLCAndmFsdWUnLCBWYWwsICdpbmRleCcsIE51bWJlciksXG5cdC8vIFRPRE86IERvbid0IHN0b3JlIGxlbmd0aCBoZXJlLCBkbyBpdCBpbiBWclxuXHRMaXN0UmV0dXJuID0gZXYoJ0xpc3RSZXR1cm4nLCAnbGVuZ3RoJywgTnVtYmVyKSxcblx0TGlzdFNpbXBsZSA9IGV2KCdMaXN0U2ltcGxlJywgJ3BhcnRzJywgW1ZhbF0pLFxuXG5cdC8vIFRPRE86IERvbid0IHN0b3JlIGluZGV4IGhlcmUsIGRvIGl0IGluIFZyXG5cdE1hcEVudHJ5ID0gZWQoJ01hcEVudHJ5JywgJ2tleScsIFZhbCwgJ3ZhbCcsIFZhbCwgJ2luZGV4JywgTnVtYmVyKSxcblx0Ly8gVE9ETzogRG9uJ3Qgc3RvcmUgbGVuZ3RoIGhlcmUsIGRvIGl0IGluIFZyXG5cdE1hcFJldHVybiA9IGV2KCdNYXBSZXR1cm4nLCAnbGVuZ3RoJywgTnVtYmVyKSxcblx0T2JqUmV0dXJuID0gZXYoJ09ialJldHVybicsXG5cdFx0J2tleXMnLCBbTG9jYWxEZWNsYXJlXSxcblx0XHQnZGVidWdLZXlzJywgW0xvY2FsRGVjbGFyZV0sXG5cdFx0J29wT2JqZWQnLCBPcChWYWwpLFxuXHRcdCdvcERpc3BsYXlOYW1lJywgT3AoU3RyaW5nKSksXG5cdC8vIGtleXNWYWxzOiB2YWx1ZXMgYXJlIFZhbHNcblx0T2JqU2ltcGxlID0gZXYoJ09ialNpbXBsZScsICdrZXlzVmFscycsIE9iamVjdCksXG5cblx0Ly8gQ2FzZVxuXHRQYXR0ZXJuID0gZWUoJ1BhdHRlcm4nLCAndHlwZScsIFZhbCwgJ2xvY2FscycsIFtMb2NhbERlY2xhcmVdLCAncGF0dGVybmVkJywgTG9jYWxBY2Nlc3MpLFxuXHRDYXNlRG9QYXJ0ID0gZWUoJ0Nhc2VEb1BhcnQnLCAndGVzdCcsIFVuaW9uKFZhbCwgUGF0dGVybiksICdyZXN1bHQnLCBCbG9ja0RvKSxcblx0Q2FzZVZhbFBhcnQgPSBlZSgnQ2FzZVZhbFBhcnQnLCAndGVzdCcsIFVuaW9uKFZhbCwgUGF0dGVybiksICdyZXN1bHQnLCBCbG9ja1ZhbCksXG5cdENhc2VEbyA9IGVkKCdDYXNlRG8nLCAnb3BDYXNlZCcsIE9wKEFzc2lnbiksICdwYXJ0cycsIFtDYXNlRG9QYXJ0XSwgJ29wRWxzZScsIE9wKEJsb2NrRG8pKSxcblx0Ly8gVW5saWtlIENhc2VEbywgdGhpcyBoYXMgYHJldHVybmAgc3RhdGVtZW50cy5cblx0Q2FzZVZhbCA9IGV2KCdDYXNlVmFsJywgJ29wQ2FzZWQnLCBPcChBc3NpZ24pLCAncGFydHMnLCBbQ2FzZVZhbFBhcnRdLCAnb3BFbHNlJywgT3AoQmxvY2tWYWwpKSxcblxuXHQvLyBTdGF0ZW1lbnRzXG5cdExvb3AgPSBlZCgnTG9vcCcsICdibG9jaycsIEJsb2NrRG8pLFxuXHRFbmRMb29wID0gZWQoJ0VuZExvb3AnKSxcblxuXHQvLyBHZW5lcmF0b3JzXG5cdFlpZWxkID0gZXYoJ1lpZWxkJywgJ3lpZWxkZWQnLCBWYWwpLFxuXHRZaWVsZFRvID0gZXYoJ1lpZWxkVG8nLCAneWllbGRlZFRvJywgVmFsKSxcblxuXHQvLyBFeHByZXNzaW9uc1xuXHRDYWxsID0gT2JqZWN0LmFzc2lnbihcblx0XHRldignQ2FsbCcsICdjYWxsZWQnLCBWYWwsICdhcmdzJywgW1ZhbF0pLFxuXHRcdHtcblx0XHRcdGNvbnRhaW5zOiAobG9jLCB0ZXN0VHlwZSwgdGVzdGVkKSA9PlxuXHRcdFx0XHRDYWxsKGxvYywgU3BlY2lhbC5jb250YWlucyhsb2MpLCBbIHRlc3RUeXBlLCB0ZXN0ZWQgXSksXG5cdFx0XHRzdWI6IChsb2MsIGFyZ3MpID0+IENhbGwobG9jLCBTcGVjaWFsLnN1Yihsb2MpLCBhcmdzKVxuXHRcdH0pLFxuXHQvLyBPbmx5IGZvciB1c2UgaW4gYSBDYWxsXG5cdFNwbGF0ID0gZXYoJ1NwbGF0JywgJ3NwbGF0dGVkJywgVmFsKSxcblxuXHRCbG9ja1dyYXAgPSBldignQmxvY2tXcmFwJywgJ2Jsb2NrJywgQmxvY2tWYWwpLFxuXG5cdEZ1biA9IGV2KCdGdW4nLFxuXHRcdCdpc0dlbmVyYXRvcicsIEJvb2xlYW4sXG5cdFx0J2FyZ3MnLCBbTG9jYWxEZWNsYXJlXSxcblx0XHQnb3BSZXN0QXJnJywgT3AoTG9jYWxEZWNsYXJlKSxcblx0XHQvLyBCbG9ja0RvIG9yIEJsb2NrVmFsXG5cdFx0J2Jsb2NrJywgRXhwcmVzc2lvbixcblx0XHQnb3BJbicsIE9wKERlYnVnKSxcblx0XHQvLyBJZiBub24tZW1wdHksIGJsb2NrIHNob3VsZCBiZSBhIEJsb2NrVmFsLCBhbmQgZWl0aGVyIGl0IGhhcyBhIHR5cGUgb3Igb3BPdXQgaXMgbm9uLWVtcHR5LlxuXHRcdCdvcFJlc0RlY2xhcmUnLCBPcChMb2NhbERlY2xhcmUpLFxuXHRcdCdvcE91dCcsIE9wKERlYnVnKSksXG5cblx0TGF6eSA9IGV2KCdMYXp5JywgJ3ZhbHVlJywgVmFsKSxcblx0TnVtYmVyTGl0ZXJhbCA9IGV2KCdOdW1iZXJMaXRlcmFsJywgJ3ZhbHVlJywgTnVtYmVyKSxcblx0TWVtYmVyID0gZXYoJ01lbWJlcicsICdvYmplY3QnLCBWYWwsICduYW1lJywgU3RyaW5nKSxcblx0Ly8gcGFydHMgYXJlIFN0cmluZ3MgaW50ZXJsZWF2ZWQgd2l0aCBWYWxzLlxuXHRRdW90ZSA9IE9iamVjdC5hc3NpZ24oXG5cdFx0ZXYoJ1F1b3RlJywgJ3BhcnRzJywgW09iamVjdF0pLFxuXHRcdHtcblx0XHRcdGZvclN0cmluZyhsb2MsIHN0cikge1xuXHRcdFx0XHRyZXR1cm4gUXVvdGUobG9jLCBbIHN0ciBdKVxuXHRcdFx0fVxuXHRcdH0pLFxuXG5cdFNQX0NvbnRhaW5zID0gMCxcblx0U1BfRGVidWdnZXIgPSAxLFxuXHRTUF9TdWIgPSAyLFxuXHRTUF9UaGlzID0gMyxcblx0U1BfVGhpc01vZHVsZURpcmVjdG9yeSA9IDQsXG5cdFNwZWNpYWwgPSBPYmplY3QuYXNzaWduKFxuXHRcdC8vIGsgaXMgYSBTUF8qKipcblx0XHRldignU3BlY2lhbCcsICdrJywgTnVtYmVyKSxcblx0XHR7XG5cdFx0XHRjb250YWluczogbG9jID0+IFNwZWNpYWwobG9jLCBTUF9Db250YWlucyksXG5cdFx0XHRkZWJ1Z2dlcjogbG9jID0+IFNwZWNpYWwobG9jLCBTUF9EZWJ1Z2dlciksXG5cdFx0XHRzdWI6IGxvYyA9PiBTcGVjaWFsKGxvYywgU1BfU3ViKVxuXHRcdH0pXG4iXSwic291cmNlUm9vdCI6Ii9zcmMifQ==