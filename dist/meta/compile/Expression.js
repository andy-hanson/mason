if (typeof define !== 'function') var define = require('amdefine')(module);define(['exports', 'esast/dist/Loc', 'tupl/dist/tupl', 'tupl/dist/type', './private/Lang', './private/U/Op'], function (exports, _esastDistLoc, _tuplDistTupl, _tuplDistType, _privateLang, _privateUOp) {
	'use strict';

	Object.defineProperty(exports, '__esModule', {
		value: true
	});

	function _interopRequire(obj) { return obj && obj.__esModule ? obj['default'] : obj; }

	var _Loc = _interopRequire(_esastDistLoc);

	var _tupl = _interopRequire(_tuplDistTupl);

	var _Op = _interopRequire(_privateUOp);

	const Expression = _tuplDistTupl.abstract('Expression', Object, 'doc');
	exports.default = Expression;
	const Do = _tuplDistTupl.abstract('Do', Expression, '\n\t\tThese can only appear as lines in a Block.\n\t\tNot to be confused with Generator expressions resulting from `do` keyword.'),
	      Val = _tuplDistTupl.abstract('Val', Expression, 'These can appear in any expression.');

	exports.Do = Do;
	exports.Val = Val;
	const makeType = function (superType) {
		return function (name) {
			for (var _len = arguments.length, namesTypes = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
				namesTypes[_key - 1] = arguments[_key];
			}

			return (
				// TODO: provide actual docs...
				_tupl(name, superType, 'doc', ['loc', _Loc].concat(namesTypes))
			);
		};
	};
	const ee = makeType(Expression),
	      ed = makeType(Do),
	      ev = makeType(Val);

	const Debug = ed('Debug', 'lines', [Expression]),
	      BlockDo = ed('BlockDo', 'lines', [Expression]),
	      BlockVal = ed('BlockVal', 'lines', [Expression], 'returned', Val),
	      ModuleDefaultExport = ed('ModuleDefaultExport', 'value', Val),
	      LocalDeclare = Object.assign(ee('LocalDeclare', 'name', String, 'opType', _Op(Val), 'isLazy', Boolean, 'okToNotUse', Boolean), {
		focus: function (loc) {
			return LocalDeclare(loc, '_', _privateUOp.None, false, false);
		},
		res: function (loc, opType) {
			return LocalDeclare(loc, 'res', opType, false, true);
		}
	}),
	      Assign = Object.assign(
	// TODO: 'k' may also be the string 'export'...
	ed('Assign', 'assignee', LocalDeclare, 'k', Number, 'value', Val), { focus: function (loc, value) {
			return Assign(loc, LocalDeclare.focus(loc), '=', value);
		} }),
	      AssignDestructure = ed('AssignDestructure', 'assignees', [LocalDeclare],
	// TODO: 'k' may also be the string 'export'...
	'k', Number, 'value', Val, 'isLazy', Boolean),
	      LocalAccess = Object.assign(ev('LocalAccess', 'name', String), { focus: function (loc) {
			return LocalAccess(loc, '_');
		} }),
	      GlobalAccess = Object.assign(ev('GlobalAccess', 'name', _privateLang.JsGlobals), {
		null: function (loc) {
			return GlobalAccess(loc, 'null');
		},
		true: function (loc) {
			return GlobalAccess(loc, 'true');
		}
	}),
	     
	// Module
	UseDo = ee('UseDo', 'path', String),
	      Use = ee('Use', 'path', String, 'used', [LocalDeclare], 'opUseDefault', _Op(LocalDeclare)),
	     
	// `block` will contain ModuleExport and ModuleDefaultExport_s
	// TODO: BlockVal and don't have `exports` object
	Module = ee('Module', 'doUses', [UseDo], 'uses', [Use], 'debugUses', [Use], 'block', BlockDo),
	     

	// Data
	// TODO: Don't store index here, do it in Vr
	ListEntry = ed('ListEntry', 'value', Val, 'index', Number),
	     
	// TODO: Don't store length here, do it in Vr
	ListReturn = ev('ListReturn', 'length', Number),
	      ListSimple = ev('ListSimple', 'parts', [Val]),
	     

	// TODO: Don't store index here, do it in Vr
	MapEntry = ed('MapEntry', 'key', Val, 'val', Val, 'index', Number),
	     
	// TODO: Don't store length here, do it in Vr
	MapReturn = ev('MapReturn', 'length', Number),
	      ObjReturn = ev('ObjReturn', 'keys', [LocalDeclare], 'debugKeys', [LocalDeclare], 'opObjed', _Op(Val), 'opDisplayName', _Op(String)),
	      ObjPair = ee('ObjPair', 'key', String, 'value', Val),
	     
	// Verifier checks that no two pairs may have the same key.
	ObjSimple = ev('ObjSimple', 'pairs', [ObjPair]),
	     

	// Case
	Pattern = ee('Pattern', 'type', Val, 'locals', [LocalDeclare], 'patterned', LocalAccess),
	      CaseDoPart = ee('CaseDoPart', 'test', _tuplDistType.Union(Val, Pattern), 'result', BlockDo),
	      CaseValPart = ee('CaseValPart', 'test', _tuplDistType.Union(Val, Pattern), 'result', BlockVal),
	      CaseDo = ed('CaseDo', 'opCased', _Op(Assign), 'parts', [CaseDoPart], 'opElse', _Op(BlockDo)),
	     
	// Unlike CaseDo, this has `return` statements.
	CaseVal = ev('CaseVal', 'opCased', _Op(Assign), 'parts', [CaseValPart], 'opElse', _Op(BlockVal)),
	     

	// Statements
	Loop = ed('Loop', 'block', BlockDo),
	      EndLoop = ed('EndLoop'),
	     

	// Generators
	Yield = ev('Yield', 'yielded', Val),
	      YieldTo = ev('YieldTo', 'yieldedTo', Val),
	     

	// Expressions
	Call = Object.assign(ev('Call', 'called', Val, 'args', [Val]), {
		contains: function (loc, testType, tested) {
			return Call(loc, Special.contains(loc), [testType, tested]);
		},
		sub: function (loc, args) {
			return Call(loc, Special.sub(loc), args);
		}
	}),
	     
	// Only for use in a Call
	Splat = ev('Splat', 'splatted', Val),
	      BlockWrap = ev('BlockWrap', 'block', BlockVal),
	      Fun = ev('Fun', 'isGenerator', Boolean, 'args', [LocalDeclare], 'opRestArg', _Op(LocalDeclare),
	// BlockDo or BlockVal
	'block', Expression, 'opIn', _Op(Debug),
	// If non-empty, block should be a BlockVal, and either it has a type or opOut is non-empty.
	'opResDeclare', _Op(LocalDeclare), 'opOut', _Op(Debug)),
	      Lazy = ev('Lazy', 'value', Val),
	      NumberLiteral = ev('NumberLiteral', 'value', Number),
	      Member = ev('Member', 'object', Val, 'name', String),
	     
	// parts are Strings interleaved with Vals.
	Quote = Object.assign(ev('Quote', 'parts', [Object]), {
		forString: function (loc, str) {
			return Quote(loc, [str]);
		}
	}),
	      SP_Contains = 0,
	      SP_Debugger = 1,
	      SP_Sub = 2,
	      SP_This = 3,
	      SP_ThisModuleDirectory = 4,
	      Special = Object.assign(
	// k is a SP_***
	ev('Special', 'k', Number), {
		contains: function (loc) {
			return Special(loc, SP_Contains);
		},
		debugger: function (loc) {
			return Special(loc, SP_Debugger);
		},
		sub: function (loc) {
			return Special(loc, SP_Sub);
		}
	});
	exports.Debug = Debug;
	exports.BlockDo = BlockDo;
	exports.BlockVal = BlockVal;
	exports.ModuleDefaultExport = ModuleDefaultExport;
	exports.LocalDeclare = LocalDeclare;
	exports.Assign = Assign;
	exports.AssignDestructure = AssignDestructure;
	exports.LocalAccess = LocalAccess;
	exports.GlobalAccess = GlobalAccess;
	exports.UseDo = UseDo;
	exports.Use = Use;
	exports.Module = Module;
	exports.ListEntry = ListEntry;
	exports.ListReturn = ListReturn;
	exports.ListSimple = ListSimple;
	exports.MapEntry = MapEntry;
	exports.MapReturn = MapReturn;
	exports.ObjReturn = ObjReturn;
	exports.ObjPair = ObjPair;
	exports.ObjSimple = ObjSimple;
	exports.Pattern = Pattern;
	exports.CaseDoPart = CaseDoPart;
	exports.CaseValPart = CaseValPart;
	exports.CaseDo = CaseDo;
	exports.CaseVal = CaseVal;
	exports.Loop = Loop;
	exports.EndLoop = EndLoop;
	exports.Yield = Yield;
	exports.YieldTo = YieldTo;
	exports.Call = Call;
	exports.Splat = Splat;
	exports.BlockWrap = BlockWrap;
	exports.Fun = Fun;
	exports.Lazy = Lazy;
	exports.NumberLiteral = NumberLiteral;
	exports.Member = Member;
	exports.Quote = Quote;
	exports.SP_Contains = SP_Contains;
	exports.SP_Debugger = SP_Debugger;
	exports.SP_Sub = SP_Sub;
	exports.SP_This = SP_This;
	exports.SP_ThisModuleDirectory = SP_ThisModuleDirectory;
	exports.Special = Special;
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGEvY29tcGlsZS9FeHByZXNzaW9uLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQU1BLE9BQU0sVUFBVSxHQUFHLGNBTEosUUFBUSxDQUtLLFlBQVksRUFBRSxNQUFNLEVBQUUsS0FBSyxDQUFDLENBQUE7bUJBQ3pDLFVBQVU7QUFFbEIsT0FDTixFQUFFLEdBQUcsY0FUUyxRQUFRLENBU1IsSUFBSSxFQUFFLFVBQVUscUlBRWlEO09BQy9FLEdBQUcsR0FBRyxjQVpRLFFBQVEsQ0FZUCxLQUFLLEVBQUUsVUFBVSxFQUFFLHFDQUFxQyxDQUFDLENBQUE7O1NBSHhFLEVBQUUsR0FBRixFQUFFO1NBR0YsR0FBRyxHQUFILEdBQUc7QUFFSixPQUFNLFFBQVEsR0FBRyxVQUFBLFNBQVM7U0FBSSxVQUFDLElBQUk7cUNBQUssVUFBVTtBQUFWLGNBQVU7Ozs7O0FBRWpELFVBQUssSUFBSSxFQUFFLFNBQVMsRUFBRSxLQUFLLEVBQUUsQ0FBRSxLQUFLLE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDO0lBQUM7R0FBQTtFQUFBLENBQUE7QUFDaEUsT0FDQyxFQUFFLEdBQUcsUUFBUSxDQUFDLFVBQVUsQ0FBQztPQUFFLEVBQUUsR0FBRyxRQUFRLENBQUMsRUFBRSxDQUFDO09BQUUsRUFBRSxHQUFHLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQTs7QUFFMUQsT0FDTixLQUFLLEdBQUcsRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQztPQUMxQyxPQUFPLEdBQUcsRUFBRSxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQztPQUM5QyxRQUFRLEdBQUcsRUFBRSxDQUFDLFVBQVUsRUFBRSxPQUFPLEVBQUUsQ0FBQyxVQUFVLENBQUMsRUFBRSxVQUFVLEVBQUUsR0FBRyxDQUFDO09BQ2pFLG1CQUFtQixHQUFHLEVBQUUsQ0FBQyxxQkFBcUIsRUFBRSxPQUFPLEVB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YyBmcm9tICdlc2FzdC9kaXN0L0xvYydcbmltcG9ydCB0dXBsLCB7IGFic3RyYWN0IH0gZnJvbSAndHVwbC9kaXN0L3R1cGwnXG5pbXBvcnQgeyBVbmlvbiB9IGZyb20gJ3R1cGwvZGlzdC90eXBlJ1xuaW1wb3J0IHsgSnNHbG9iYWxzIH0gZnJvbSAnLi9wcml2YXRlL0xhbmcnXG5pbXBvcnQgT3AsIHsgTm9uZSB9IGZyb20gJy4vcHJpdmF0ZS9VL09wJ1xuXG5jb25zdCBFeHByZXNzaW9uID0gYWJzdHJhY3QoJ0V4cHJlc3Npb24nLCBPYmplY3QsICdkb2MnKVxuZXhwb3J0IGRlZmF1bHQgRXhwcmVzc2lvblxuXG5leHBvcnQgY29uc3Rcblx0RG8gPSBhYnN0cmFjdCgnRG8nLCBFeHByZXNzaW9uLCBgXG5cdFx0VGhlc2UgY2FuIG9ubHkgYXBwZWFyIGFzIGxpbmVzIGluIGEgQmxvY2suXG5cdFx0Tm90IHRvIGJlIGNvbmZ1c2VkIHdpdGggR2VuZXJhdG9yIGV4cHJlc3Npb25zIHJlc3VsdGluZyBmcm9tIFxcYGRvXFxgIGtleXdvcmQuYCksXG5cdFZhbCA9IGFic3RyYWN0KCdWYWwnLCBFeHByZXNzaW9uLCAnVGhlc2UgY2FuIGFwcGVhciBpbiBhbnkgZXhwcmVzc2lvbi4nKVxuXG5jb25zdCBtYWtlVHlwZSA9IHN1cGVyVHlwZSA9PiAobmFtZSwgLi4ubmFtZXNUeXBlcykgPT5cblx0Ly8gVE9ETzogcHJvdmlkZSBhY3R1YWwgZG9jcy4uLlxuXHR0dXBsKG5hbWUsIHN1cGVyVHlwZSwgJ2RvYycsIFsgJ2xvYycsIExvYyBdLmNvbmNhdChuYW1lc1R5cGVzKSlcbmNvbnN0XG5cdGVlID0gbWFrZVR5cGUoRXhwcmVzc2lvbiksIGVkID0gbWFrZVR5cGUoRG8pLCBldiA9IG1ha2VUeXBlKFZhbClcblxuZXhwb3J0IGNvbnN0XG5cdERlYnVnID0gZWQoJ0RlYnVnJywgJ2xpbmVzJywgW0V4cHJlc3Npb25dKSxcblx0QmxvY2tEbyA9IGVkKCdCbG9ja0RvJywgJ2xpbmVzJywgW0V4cHJlc3Npb25dKSxcblx0QmxvY2tWYWwgPSBlZCgnQmxvY2tWYWwnLCAnbGluZXMnLCBbRXhwcmVzc2lvbl0sICdyZXR1cm5lZCcsIFZhbCksXG5cdE1vZHVsZURlZmF1bHRFeHBvcnQgPSBlZCgnTW9kdWxlRGVmYXVsdEV4cG9ydCcsICd2YWx1ZScsIFZhbCksXG5cdExvY2FsRGVjbGFyZSA9IE9iamVjdC5hc3NpZ24oXG5cdFx0ZWUoJ0xvY2FsRGVjbGFyZScsXG5cdFx0XHQnbmFtZScsIFN0cmluZywgJ29wVHlwZScsIE9wKFZhbCksICdpc0xhenknLCBCb29sZWFuLCAnb2tUb05vdFVzZScsIEJvb2xlYW4pLFxuXHRcdHtcblx0XHRcdGZvY3VzOiBsb2MgPT4gTG9jYWxEZWNsYXJlKGxvYywgJ18nLCBOb25lLCBmYWxzZSwgZmFsc2UpLFxuXHRcdFx0cmVzOiAobG9jLCBvcFR5cGUpID0+IExvY2FsRGVjbGFyZShsb2MsICdyZXMnLCBvcFR5cGUsIGZhbHNlLCB0cnVlKVxuXHRcdH0pLFxuXHRBc3NpZ24gPSBPYmplY3QuYXNzaWduKFxuXHRcdC8vIFRPRE86ICdrJyBtYXkgYWxzbyBiZSB0aGUgc3RyaW5nICdleHBvcnQnLi4uXG5cdFx0ZWQoJ0Fzc2lnbicsICdhc3NpZ25lZScsIExvY2FsRGVjbGFyZSwgJ2snLCBOdW1iZXIsICd2YWx1ZScsIFZhbCksXG5cdFx0eyBmb2N1czogKGxvYywgdmFsdWUpID0+IEFzc2lnbihsb2MsIExvY2FsRGVjbGFyZS5mb2N1cyhsb2MpLCAnPScsIHZhbHVlKSB9KSxcblx0QXNzaWduRGVzdHJ1Y3R1cmUgPSBlZCgnQXNzaWduRGVzdHJ1Y3R1cmUnLFxuXHRcdCdhc3NpZ25lZXMnLCBbTG9jYWxEZWNsYXJlXSxcblx0XHQvLyBUT0RPOiAnaycgbWF5IGFsc28gYmUgdGhlIHN0cmluZyAnZXhwb3J0Jy4uLlxuXHRcdCdrJywgTnVtYmVyLFxuXHRcdCd2YWx1ZScsIFZhbCxcblx0XHQnaXNMYXp5JywgQm9vbGVhbiksXG5cdExvY2FsQWNjZXNzID0gT2JqZWN0LmFzc2lnbihcblx0XHRldignTG9jYWxBY2Nlc3MnLCAnbmFtZScsIFN0cmluZyksXG5cdFx0eyBmb2N1czogbG9jID0+IExvY2FsQWNjZXNzKGxvYywgJ18nKSB9KSxcblx0R2xvYmFsQWNjZXNzID0gT2JqZWN0LmFzc2lnbihcblx0XHRldignR2xvYmFsQWNjZXNzJywgJ25hbWUnLCBKc0dsb2JhbHMpLFxuXHRcdHtcblx0XHRcdG51bGw6IGxvYyA9PiBHbG9iYWxBY2Nlc3MobG9jLCAnbnVsbCcpLFxuXHRcdFx0dHJ1ZTogbG9jID0+IEdsb2JhbEFjY2Vzcyhsb2MsICd0cnVlJylcblx0XHR9KSxcblx0Ly8gTW9kdWxlXG5cdFVzZURvID0gZWUoJ1VzZURvJywgJ3BhdGgnLCBTdHJpbmcpLFxuXHRVc2UgPSBlZSgnVXNlJywgJ3BhdGgnLCBTdHJpbmcsICd1c2VkJywgW0xvY2FsRGVjbGFyZV0sICdvcFVzZURlZmF1bHQnLCBPcChMb2NhbERlY2xhcmUpKSxcblx0Ly8gYGJsb2NrYCB3aWxsIGNvbnRhaW4gTW9kdWxlRXhwb3J0IGFuZCBNb2R1bGVEZWZhdWx0RXhwb3J0X3Ncblx0Ly8gVE9ETzogQmxvY2tWYWwgYW5kIGRvbid0IGhhdmUgYGV4cG9ydHNgIG9iamVjdFxuXHRNb2R1bGUgPSBlZSgnTW9kdWxlJywgJ2RvVXNlcycsIFtVc2VEb10sICd1c2VzJywgW1VzZV0sICdkZWJ1Z1VzZXMnLCBbVXNlXSwgJ2Jsb2NrJywgQmxvY2tEbyksXG5cblx0Ly8gRGF0YVxuXHQvLyBUT0RPOiBEb24ndCBzdG9yZSBpbmRleCBoZXJlLCBkbyBpdCBpbiBWclxuXHRMaXN0RW50cnkgPSBlZCgnTGlzdEVudHJ5JywgJ3ZhbHVlJywgVmFsLCAnaW5kZXgnLCBOdW1iZXIpLFxuXHQvLyBUT0RPOiBEb24ndCBzdG9yZSBsZW5ndGggaGVyZSwgZG8gaXQgaW4gVnJcblx0TGlzdFJldHVybiA9IGV2KCdMaXN0UmV0dXJuJywgJ2xlbmd0aCcsIE51bWJlciksXG5cdExpc3RTaW1wbGUgPSBldignTGlzdFNpbXBsZScsICdwYXJ0cycsIFtWYWxdKSxcblxuXHQvLyBUT0RPOiBEb24ndCBzdG9yZSBpbmRleCBoZXJlLCBkbyBpdCBpbiBWclxuXHRNYXBFbnRyeSA9IGVkKCdNYXBFbnRyeScsICdrZXknLCBWYWwsICd2YWwnLCBWYWwsICdpbmRleCcsIE51bWJlciksXG5cdC8vIFRPRE86IERvbid0IHN0b3JlIGxlbmd0aCBoZXJlLCBkbyBpdCBpbiBWclxuXHRNYXBSZXR1cm4gPSBldignTWFwUmV0dXJuJywgJ2xlbmd0aCcsIE51bWJlciksXG5cdE9ialJldHVybiA9IGV2KCdPYmpSZXR1cm4nLFxuXHRcdCdrZXlzJywgW0xvY2FsRGVjbGFyZV0sXG5cdFx0J2RlYnVnS2V5cycsIFtMb2NhbERlY2xhcmVdLFxuXHRcdCdvcE9iamVkJywgT3AoVmFsKSxcblx0XHQnb3BEaXNwbGF5TmFtZScsIE9wKFN0cmluZykpLFxuXHRPYmpQYWlyID0gZWUoJ09ialBhaXInLCAna2V5JywgU3RyaW5nLCAndmFsdWUnLCBWYWwpLFxuXHQvLyBWZXJpZmllciBjaGVja3MgdGhhdCBubyB0d28gcGFpcnMgbWF5IGhhdmUgdGhlIHNhbWUga2V5LlxuXHRPYmpTaW1wbGUgPSBldignT2JqU2ltcGxlJywgJ3BhaXJzJywgW09ialBhaXJdKSxcblxuXHQvLyBDYXNlXG5cdFBhdHRlcm4gPSBlZSgnUGF0dGVybicsICd0eXBlJywgVmFsLCAnbG9jYWxzJywgW0xvY2FsRGVjbGFyZV0sICdwYXR0ZXJuZWQnLCBMb2NhbEFjY2VzcyksXG5cdENhc2VEb1BhcnQgPSBlZSgnQ2FzZURvUGFydCcsICd0ZXN0JywgVW5pb24oVmFsLCBQYXR0ZXJuKSwgJ3Jlc3VsdCcsIEJsb2NrRG8pLFxuXHRDYXNlVmFsUGFydCA9IGVlKCdDYXNlVmFsUGFydCcsICd0ZXN0JywgVW5pb24oVmFsLCBQYXR0ZXJuKSwgJ3Jlc3VsdCcsIEJsb2NrVmFsKSxcblx0Q2FzZURvID0gZWQoJ0Nhc2VEbycsICdvcENhc2VkJywgT3AoQXNzaWduKSwgJ3BhcnRzJywgW0Nhc2VEb1BhcnRdLCAnb3BFbHNlJywgT3AoQmxvY2tEbykpLFxuXHQvLyBVbmxpa2UgQ2FzZURvLCB0aGlzIGhhcyBgcmV0dXJuYCBzdGF0ZW1lbnRzLlxuXHRDYXNlVmFsID0gZXYoJ0Nhc2VWYWwnLCAnb3BDYXNlZCcsIE9wKEFzc2lnbiksICdwYXJ0cycsIFtDYXNlVmFsUGFydF0sICdvcEVsc2UnLCBPcChCbG9ja1ZhbCkpLFxuXG5cdC8vIFN0YXRlbWVudHNcblx0TG9vcCA9IGVkKCdMb29wJywgJ2Jsb2NrJywgQmxvY2tEbyksXG5cdEVuZExvb3AgPSBlZCgnRW5kTG9vcCcpLFxuXG5cdC8vIEdlbmVyYXRvcnNcblx0WWllbGQgPSBldignWWllbGQnLCAneWllbGRlZCcsIFZhbCksXG5cdFlpZWxkVG8gPSBldignWWllbGRUbycsICd5aWVsZGVkVG8nLCBWYWwpLFxuXG5cdC8vIEV4cHJlc3Npb25zXG5cdENhbGwgPSBPYmplY3QuYXNzaWduKFxuXHRcdGV2KCdDYWxsJywgJ2NhbGxlZCcsIFZhbCwgJ2FyZ3MnLCBbVmFsXSksXG5cdFx0e1xuXHRcdFx0Y29udGFpbnM6IChsb2MsIHRlc3RUeXBlLCB0ZXN0ZWQpID0+XG5cdFx0XHRcdENhbGwobG9jLCBTcGVjaWFsLmNvbnRhaW5zKGxvYyksIFsgdGVzdFR5cGUsIHRlc3RlZCBdKSxcblx0XHRcdHN1YjogKGxvYywgYXJncykgPT4gQ2FsbChsb2MsIFNwZWNpYWwuc3ViKGxvYyksIGFyZ3MpXG5cdFx0fSksXG5cdC8vIE9ubHkgZm9yIHVzZSBpbiBhIENhbGxcblx0U3BsYXQgPSBldignU3BsYXQnLCAnc3BsYXR0ZWQnLCBWYWwpLFxuXG5cdEJsb2NrV3JhcCA9IGV2KCdCbG9ja1dyYXAnLCAnYmxvY2snLCBCbG9ja1ZhbCksXG5cblx0RnVuID0gZXYoJ0Z1bicsXG5cdFx0J2lzR2VuZXJhdG9yJywgQm9vbGVhbixcblx0XHQnYXJncycsIFtMb2NhbERlY2xhcmVdLFxuXHRcdCdvcFJlc3RBcmcnLCBPcChMb2NhbERlY2xhcmUpLFxuXHRcdC8vIEJsb2NrRG8gb3IgQmxvY2tWYWxcblx0XHQnYmxvY2snLCBFeHByZXNzaW9uLFxuXHRcdCdvcEluJywgT3AoRGVidWcpLFxuXHRcdC8vIElmIG5vbi1lbXB0eSwgYmxvY2sgc2hvdWxkIGJlIGEgQmxvY2tWYWwsIGFuZCBlaXRoZXIgaXQgaGFzIGEgdHlwZSBvciBvcE91dCBpcyBub24tZW1wdHkuXG5cdFx0J29wUmVzRGVjbGFyZScsIE9wKExvY2FsRGVjbGFyZSksXG5cdFx0J29wT3V0JywgT3AoRGVidWcpKSxcblxuXHRMYXp5ID0gZXYoJ0xhenknLCAndmFsdWUnLCBWYWwpLFxuXHROdW1iZXJMaXRlcmFsID0gZXYoJ051bWJlckxpdGVyYWwnLCAndmFsdWUnLCBOdW1iZXIpLFxuXHRNZW1iZXIgPSBldignTWVtYmVyJywgJ29iamVjdCcsIFZhbCwgJ25hbWUnLCBTdHJpbmcpLFxuXHQvLyBwYXJ0cyBhcmUgU3RyaW5ncyBpbnRlcmxlYXZlZCB3aXRoIFZhbHMuXG5cdFF1b3RlID0gT2JqZWN0LmFzc2lnbihcblx0XHRldignUXVvdGUnLCAncGFydHMnLCBbT2JqZWN0XSksXG5cdFx0e1xuXHRcdFx0Zm9yU3RyaW5nKGxvYywgc3RyKSB7XG5cdFx0XHRcdHJldHVybiBRdW90ZShsb2MsIFsgc3RyIF0pXG5cdFx0XHR9XG5cdFx0fSksXG5cblx0U1BfQ29udGFpbnMgPSAwLFxuXHRTUF9EZWJ1Z2dlciA9IDEsXG5cdFNQX1N1YiA9IDIsXG5cdFNQX1RoaXMgPSAzLFxuXHRTUF9UaGlzTW9kdWxlRGlyZWN0b3J5ID0gNCxcblx0U3BlY2lhbCA9IE9iamVjdC5hc3NpZ24oXG5cdFx0Ly8gayBpcyBhIFNQXyoqKlxuXHRcdGV2KCdTcGVjaWFsJywgJ2snLCBOdW1iZXIpLFxuXHRcdHtcblx0XHRcdGNvbnRhaW5zOiBsb2MgPT4gU3BlY2lhbChsb2MsIFNQX0NvbnRhaW5zKSxcblx0XHRcdGRlYnVnZ2VyOiBsb2MgPT4gU3BlY2lhbChsb2MsIFNQX0RlYnVnZ2VyKSxcblx0XHRcdHN1YjogbG9jID0+IFNwZWNpYWwobG9jLCBTUF9TdWIpXG5cdFx0fSlcbiJdLCJzb3VyY2VSb290IjoiL3NyYyJ9