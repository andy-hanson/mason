if (typeof define !== 'function') var define = require('amdefine')(module);define(['exports', 'module'], function (exports, module) {
	'use strict';

	const inspect = (obj, opts) => {
		// default options
		let ctx = {
			seen: [],
			stylize: stylizeNoColor
		};
		if (opts) Object.assign(ctx, opts);
		// set default options
		if (ctx.showHidden === undefined) ctx.showHidden = false;
		if (ctx.depth === undefined) ctx.depth = 2;
		if (ctx.colors === undefined) ctx.colors = false;
		if (ctx.customInspect === undefined) ctx.customInspect = true;
		if (ctx.colors) ctx.stylize = stylizeWithColor;
		return formatValue(ctx, obj, ctx.depth);
	};
	module.exports = inspect;

	Object.assign(inspect, {
		// http://en.wikipedia.org/wiki/ANSI_escape_code#graphics
		colors: {
			bold: [1, 22],
			italic: [3, 23],
			underline: [4, 24],
			inverse: [7, 27],
			white: [37, 39],
			grey: [90, 39],
			black: [30, 39],
			blue: [34, 39],
			cyan: [36, 39],
			green: [32, 39],
			magenta: [35, 39],
			red: [31, 39],
			yellow: [33, 39]
		},

		// Don't use 'blue' not visible on cmd.exe
		styles: {
			special: 'cyan',
			number: 'yellow',
			boolean: 'yellow',
			undefined: 'grey',
			null: 'bold',
			string: 'green',
			symbol: 'green',
			date: 'magenta',
			// "name": intentionally not styling
			regexp: 'red'
		}
	});

	const stylizeWithColor = (str, styleType) => {
		let style = inspect.styles[styleType];

		if (style) return '\u001b[' + inspect.colors[style][0] + 'm' + str + '\u001b[' + inspect.colors[style][1] + 'm';else return str;
	},
	      stylizeNoColor = str => str,
	     

	//What is this for?
	arrayToHash = array => {
		let hash = {};

		for (let val of array) {
			hash[val] = true;
		}

		return hash;
	},
	      getConstructorOf = obj => {
		while (obj) {
			let descriptor = Object.getOwnPropertyDescriptor(obj, 'constructor');
			if (descriptor !== undefined && typeof descriptor.value === 'function' && descriptor.value.name !== '') return descriptor.value;

			obj = Object.getPrototypeOf(obj);
		}

		return null;
	},
	      inspectPromise = () => {
		//TODO: this was using Debug...
		return null;
	};

	const formatValue = (ctx, value, recurseTimes) => {
		// Provide a hook for user-specified inspect functions.
		// Check that value is an object with an inspect function on it
		if (ctx.customInspect && value && typeof value.inspect === 'function' &&
		// Filter out the util module, it's inspect function is special
		value.inspect !== inspect &&
		// Also filter out any prototype objects using the circular check.
		!(value.constructor && value.constructor.prototype === value)) {
			let ret = value.inspect(recurseTimes, ctx);
			if (typeof ret !== 'string') ret = formatValue(ctx, ret, recurseTimes);
			return ret;
		}

		// Primitive types cannot have properties
		let primitive = formatPrimitive(ctx, value);
		if (primitive) return primitive;

		// Look up the keys of the object.
		let keys = Object.keys(value);
		let visibleKeys = arrayToHash(keys);

		if (ctx.showHidden) {
			keys = Object.getOwnPropertyNames(value);
			keys = keys.concat(Object.getOwnPropertySymbols(value));
		}

		// This could be a boxed primitive (new String(), etc.), check valueOf()
		// NOTE: Avoid calling `valueOf` on `Date` instance because it will return
		// a number which, when object has some additional user-stored `keys`,
		// will be printed out.
		let formatted;
		let raw = value;
		try {
			// the .valueOf() call can fail for a multitude of reasons
			if (!isDate(value)) raw = value.valueOf();
		} catch (e) {
			// ignore...
		}

		if (typeof raw === 'string')
			// for boxed Strings, we have to remove the 0-n indexed entries,
			// since they just noisey up the output and are redundant
			keys = keys.filter(key => !(key >= 0 && key < raw.length));

		// Some type of object without properties can be shortcutted.
		if (keys.length === 0) {
			if (typeof value === 'function') {
				let name = value.name ? ': ' + value.name : '';
				return ctx.stylize('[Function' + name + ']', 'special');
			}
			if (isRegExp(value)) return ctx.stylize(RegExp.prototype.toString.call(value), 'regexp');
			if (isDate(value)) return ctx.stylize(Date.prototype.toString.call(value), 'date');
			if (isError(value)) return formatError(value);
			// now check the `raw` value to handle boxed primitives
			if (typeof raw === 'string') {
				formatted = formatPrimitiveNoColor(ctx, raw);
				return ctx.stylize('[String: ' + formatted + ']', 'string');
			}
			if (typeof raw === 'number') {
				formatted = formatPrimitiveNoColor(ctx, raw);
				return ctx.stylize('[Number: ' + formatted + ']', 'number');
			}
			if (typeof raw === 'boolean') {
				formatted = formatPrimitiveNoColor(ctx, raw);
				return ctx.stylize('[Boolean: ' + formatted + ']', 'boolean');
			}
		}

		let constructor = getConstructorOf(value);
		let base = '',
		    empty = false,
		    braces,
		    formatter;

		if (Array.isArray(value)) {
			if (constructor === Array) constructor = null;
			braces = ['[', ']'];
			empty = value.length === 0;
			formatter = formatArray;
		} else if (value instanceof Set) {
			braces = ['{', '}'];
			// With `showHidden`, `length` will display as a hidden property for
			// arrays. For consistency's sake, do the same for `size`, even though this
			// property isn't selected by Object.getOwnPropertyNames().
			if (ctx.showHidden) keys.unshift('size');
			empty = value.size === 0;
			formatter = formatSet;
		} else if (value instanceof Map) {
			braces = ['{', '}'];
			// Ditto.
			if (ctx.showHidden) keys.unshift('size');
			empty = value.size === 0;
			formatter = formatMap;
		} else {
			// Only create a mirror if the object superficially looks like a Promise.
			let promiseInternals = value instanceof Promise && inspectPromise(value);
			if (promiseInternals) {
				braces = ['{', '}'];
				formatter = formatPromise;
			} else {
				if (constructor === Object) constructor = null;
				braces = ['{', '}'];
				empty = true; // No other data than keys.
				formatter = formatObject;
			}
		}

		empty = empty === true && keys.length === 0;

		// Make functions say that they are functions
		if (typeof value === 'function') {
			let n = value.name ? ': ' + value.name : '';
			base = ' [Function' + n + ']';
		}

		// Make RegExps say that they are RegExps
		if (isRegExp(value)) base = ' ' + RegExp.prototype.toString.call(value);

		//TODO: else if
		// Make dates with properties first say the date
		if (isDate(value)) base = ' ' + Date.prototype.toUTCString.call(value);

		// Make error with message first say the error
		if (isError(value)) base = ' ' + formatError(value);

		// Make boxed primitive Strings look like such
		if (typeof raw === 'string') {
			formatted = formatPrimitiveNoColor(ctx, raw);
			base = ' ' + '[String: ' + formatted + ']';
		}

		// Make boxed primitive Numbers look like such
		if (typeof raw === 'number') {
			formatted = formatPrimitiveNoColor(ctx, raw);
			base = ' ' + '[Number: ' + formatted + ']';
		}

		// Make boxed primitive Booleans look like such
		if (typeof raw === 'boolean') {
			formatted = formatPrimitiveNoColor(ctx, raw);
			base = ' ' + '[Boolean: ' + formatted + ']';
		}

		// Add constructor name if available
		if (base === '' && constructor) braces[0] = constructor.name + ' ' + braces[0];

		if (empty === true) return braces[0] + base + braces[1];

		if (recurseTimes < 0) return isRegExp(value) ? ctx.stylize(RegExp.prototype.toString.call(value), 'regexp') : ctx.stylize('[Object]', 'special');

		ctx.seen.push(value);

		let output = formatter(ctx, value, recurseTimes, visibleKeys, keys);

		ctx.seen.pop();

		return reduceToSingleString(output, base, braces);
	};

	const formatPrimitive = (ctx, value) => {
		if (value === undefined) return ctx.stylize('undefined', 'undefined');

		// For some reason typeof null is "object", so special case here.
		if (value === null) return ctx.stylize('null', 'null');

		let type = typeof value;

		if (type === 'string') {
			let simple = '\'' + JSON.stringify(value).replace(/^"|"$/g, '').replace(/'/g, '\\\'').replace(/\\"/g, '"') + '\'';
			return ctx.stylize(simple, 'string');
		}
		if (type === 'number') {
			// Format -0 as '-0'. Strict equality won't distinguish 0 from -0,
			// so instead we use the fact that 1 / -0 < 0 whereas 1 / 0 > 0 .
			if (value === 0 && 1 / value < 0) return ctx.stylize('-0', 'number');
			return ctx.stylize('' + value, 'number');
		}
		if (type === 'boolean') return ctx.stylize('' + value, 'boolean');
		// es6 symbol primitive
		if (type === 'symbol') return ctx.stylize(value.toString(), 'symbol');
	};

	const formatPrimitiveNoColor = (ctx, value) => {
		let stylize = ctx.stylize;
		ctx.stylize = stylizeNoColor;
		let str = formatPrimitive(ctx, value);
		ctx.stylize = stylize;
		return str;
	},
	      formatError = value => '[' + Error.prototype.toString.call(value) + ']',
	      formatObject = (ctx, value, recurseTimes, visibleKeys, keys) => keys.map(key => formatProperty(ctx, value, recurseTimes, visibleKeys, key, false)),
	      formatArray = (ctx, value, recurseTimes, visibleKeys, keys) => {
		let output = [];
		for (let i = 0, l = value.length; i < l; i = i + 1) if (hasOwnProperty(value, String(i))) output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, String(i), true));else output.push('');
		for (let key of keys) {
			if (typeof key === 'symbol' || !key.match(/^\d+$/)) output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, key, true));
		}
		return output;
	},
	      formatSet = (ctx, value, recurseTimes, visibleKeys, keys) => {
		let output = [];
		for (let v of value) {
			let nextRecurseTimes = recurseTimes === null ? null : recurseTimes - 1;
			let str = formatalue(ctx, v, nextRecurseTimes);
			output.push(str);
		}
		for (let key of keys) output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, key, false));
		return output;
	},
	      formatMap = (ctx, value, recurseTimes, visibleKeys, keys) => {
		let output = [];
		value.forEach((v, k) => {
			let nextRecurseTimes = recurseTimes === null ? null : recurseTimes - 1;
			let str = formatValue(ctx, k, nextRecurseTimes);
			str = str + ' => ';
			str = str + formatValue(ctx, v, nextRecurseTimes);
			output.push(str);
		});
		for (let key of keys) {
			output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, key, false));
		}
		return output;
	},
	      formatPromise = (ctx, value, recurseTimes, visibleKeys, keys) => {
		let output = [];
		let internals = inspectPromise(value);
		if (internals.status === 'pending') output.push('<pending>');else {
			let nextRecurseTimes = recurseTimes === null ? null : recurseTimes - 1;
			let str = formatValue(ctx, internals.value, nextRecurseTimes);
			if (internals.status === 'rejected') output.push('<rejected> ' + str);else output.push(str);
		}
		for (let key of keys) {
			output.push(formatProperty(ctx, value, recurseTimes, visibleKeys, key, false));
		}
		return output;
	},
	      formatProperty = (ctx, value, recurseTimes, visibleKeys, key, array) => {
		let name, str, desc;
		desc = Object.getOwnPropertyDescriptor(value, key) || { value: value[key] };
		if (desc.get) str = desc.set ? ctx.stylize('[Getter/Setter]', 'special') : ctx.stylize('[Getter]', 'special');else if (desc.set) str = ctx.stylize('[Setter]', 'special');

		if (!hasOwnProperty(visibleKeys, key)) name = typeof key === 'symbol' ? '[' + ctx.stylize(key.toString(), 'symbol') + ']' : '[' + key + ']';
		if (!str) {
			if (ctx.seen.indexOf(desc.value) < 0) {
				str = recurseTimes === null ? formatValue(ctx, desc.value, null) : formatValue(ctx, desc.value, recurseTimes - 1);
				if (str.indexOf('\n') > -1) {
					str = '\n' + str.split('\n').map(line => '   ' + line).join('\n');
					if (array) str = str.substr(2);
				}
			} else str = ctx.stylize('[Circular]', 'special');
		}
		if (name === undefined) {
			if (array && key.match(/^\d+$/)) return str;
			name = JSON.stringify('' + key);
			if (name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)) {
				name = name.substr(1, name.length - 2);
				name = ctx.stylize(name, 'name');
			} else {
				name = name.replace(/'/g, '\\\'').replace(/\\"/g, '"').replace(/(^"|"$)/g, '\'').replace(/\\\\/g, '\\');
				name = ctx.stylize(name, 'string');
			}
		}

		return name + ': ' + str;
	},
	      reduceToSingleString = (output, base, braces) => {
		let length = output.reduce((prev, cur) => prev + cur.replace(/\u001b\[\d\d?m/g, '').length + 1, 0);

		if (length > 60) return braces[0] + (
		// If the opening "brace" is too large, like in the case of "Set {",
		// we need to force the first item to be on the next line or the
		// items will not line up correctly.
		base === '' && braces[0].length === 1 ? '' : base + '\n ') + ' ' + output.join(',\n  ') + ' ' + braces[1];

		return braces[0] + base + ' ' + output.join(', ') + ' ' + braces[1];
	};

	const isRegExp = re => objectToString(re) === '[object RegExp]',
	      isDate = d => objectToString(d) === '[object Date]',
	      isError = e => objectToString(e) === '[object Error]' || e instanceof Error,
	      objectToString = o => Object.prototype.toString.call(o),
	      hasOwnProperty = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByaXZhdGUvdXRpbC1pbnNwZWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLE9BQU0sT0FBTyxHQUFHLENBQUMsR0FBRyxFQUFFLElBQUksS0FBSzs7QUFFOUIsTUFBSSxHQUFHLEdBQUc7QUFDVCxPQUFJLEVBQUUsRUFBRTtBQUNSLFVBQU8sRUFBRSxjQUFjO0dBQ3ZCLENBQUE7QUFDRCxNQUFJLElBQUksRUFDUCxNQUFNLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQTs7QUFFekIsTUFBSSxHQUFHLENBQUMsVUFBVSxLQUFLLFNBQVMsRUFBRSxHQUFHLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQTtBQUN4RCxNQUFJLEdBQUcsQ0FBQyxLQUFLLEtBQUssU0FBUyxFQUFFLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFBO0FBQzFDLE1BQUksR0FBRyxDQUFDLE1BQU0sS0FBSyxTQUFTLEVBQUUsR0FBRyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUE7QUFDaEQsTUFBSSxHQUFHLENBQUMsYUFBYSxLQUFLLFNBQVMsRUFBRSxHQUFHLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQTtBQUM3RCxNQUFJLEdBQUcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLE9BQU8sR0FBRyxnQkFBZ0IsQ0FBQTtBQUM5QyxTQUFPLFdBQVcsQ0FBQyxHQUFHLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQTtFQUN2QyxDQUFBO2tCQUNjLE9BQU87O0FBRXRCLE9BQU0sQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFOztBQUV0QixRQUFNLEVBQUU7QUFDUCxPQUFJLEVBQUcsQ0FBRSxDQUFDLEVBQUUsRUFBRSxDQUFFO0FBQ2hCLFNBQU0sRUFBRyxDQUFFLENBQUMsRUFBRSxFQUFFLENBQUU7QUFDbEIsWUFBUyxFQUFFLENBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBRTtBQUNwQixVQUFPLEVBQUUsQ0FBRSxDQUFDLEVB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QUNkLE9BQU8sTUFBTSxDQUFDLENBQUMsQ0FBQzs7OztBQUlYLE1BQUksS0FBSyxFQUFFLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLEdBQUcsRUFBRSxHQUFHLElBQUksR0FBRyxLQUFLLENBQUEsQUFBQyxHQUMzRCxHQUFHLEdBQ0gsTUFBTSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FDcEIsR0FBRyxHQUNILE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQTs7QUFFZCxTQUFPLE1BQU0sQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQTtFQUNuRSxDQUFBOztBQUVGLE9BQ0MsUUFBUSxHQUFHLEVBQUUsSUFBSSxjQUFjLENBQUMsRUFBRSxDQUFDLEtBQUssaUJBQWlCO09BQ3pELE1BQU0sR0FBRyxDQUFDLElBQUksY0FBYyxDQUFDLENBQUMsQ0FBQyxLQUFLLGVBQWU7T0FDbkQsT0FBTyxHQUFHLENBQUMsSUFBSSxjQUFjLENBQUMsQ0FBQyxDQUFDLEtBQUssZ0JBQWdCLElBQUksQ0FBQyxZQUFZLEtBQUs7T0FDM0UsY0FBYyxHQUFHLENBQUMsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO09BQ3ZELGNBQWMsR0FBRyxDQUFDLEdBQUcsRUFBRSxJQUFJLEtBQUssTUFBTSxDQUFDLFNBQVMsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQSIsImZpbGUiOiJwcml2YXRlL3V0aWwtaW5zcGVjdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgaW5zcGVjdCA9IChvYmosIG9wdHMpID0+IHtcblx0Ly8gZGVmYXVsdCBvcHRpb25zXG5cdGxldCBjdHggPSB7XG5cdFx0c2VlbjogW10sXG5cdFx0c3R5bGl6ZTogc3R5bGl6ZU5vQ29sb3Jcblx0fVxuXHRpZiAob3B0cylcblx0XHRPYmplY3QuYXNzaWduKGN0eCwgb3B0cylcblx0Ly8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuXHRpZiAoY3R4LnNob3dIaWRkZW4gPT09IHVuZGVmaW5lZCkgY3R4LnNob3dIaWRkZW4gPSBmYWxzZVxuXHRpZiAoY3R4LmRlcHRoID09PSB1bmRlZmluZWQpIGN0eC5kZXB0aCA9IDJcblx0aWYgKGN0eC5jb2xvcnMgPT09IHVuZGVmaW5lZCkgY3R4LmNvbG9ycyA9IGZhbHNlXG5cdGlmIChjdHguY3VzdG9tSW5zcGVjdCA9PT0gdW5kZWZpbmVkKSBjdHguY3VzdG9tSW5zcGVjdCA9IHRydWVcblx0aWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvclxuXHRyZXR1cm4gZm9ybWF0VmFsdWUoY3R4LCBvYmosIGN0eC5kZXB0aClcbn1cbmV4cG9ydCBkZWZhdWx0IGluc3BlY3RcblxuT2JqZWN0LmFzc2lnbihpbnNwZWN0LCB7XG5cdC8vIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQU5TSV9lc2NhcGVfY29kZSNncmFwaGljc1xuXHRjb2xvcnM6IHtcblx0XHRib2xkIDogWyAxLCAyMiBdLFxuXHRcdGl0YWxpYyA6IFsgMywgMjMgXSxcblx0XHR1bmRlcmxpbmU6IFsgNCwgMjQgXSxcblx0XHRpbnZlcnNlOiBbIDcsIDI3IF0sXG5cdFx0d2hpdGU6IFsgMzcsIDM5IF0sXG5cdFx0Z3JleTogWyA5MCwgMzkgXSxcblx0XHRibGFjazogWyAzMCwgMzkgXSxcblx0XHRibHVlOiBbIDM0LCAzOSBdLFxuXHRcdGN5YW46IFsgMzYsIDM5IF0sXG5cdFx0Z3JlZW46IFsgMzIsIDM5IF0sXG5cdFx0bWFnZW50YTogWyAzNSwgMzkgXSxcblx0XHRyZWQ6IFsgMzEsIDM5IF0sXG5cdFx0eWVsbG93OiBbIDMzLCAzOSBdXG5cdH0sXG5cblx0Ly8gRG9uJ3QgdXNlICdibHVlJyBub3QgdmlzaWJsZSBvbiBjbWQuZXhlXG5cdHN0eWxlczoge1xuXHRcdHNwZWNpYWw6ICdjeWFuJyxcblx0XHRudW1iZXI6ICd5ZWxsb3cnLFxuXHRcdGJvb2xlYW46ICd5ZWxsb3cnLFxuXHRcdHVuZGVmaW5lZDogJ2dyZXknLFxuXHRcdG51bGw6ICdib2xkJyxcblx0XHRzdHJpbmc6ICdncmVlbicsXG5cdFx0c3ltYm9sOiAnZ3JlZW4nLFxuXHRcdGRhdGU6ICdtYWdlbnRhJyxcblx0XHQvLyBcIm5hbWVcIjogaW50ZW50aW9uYWxseSBub3Qgc3R5bGluZ1xuXHRcdHJlZ2V4cDogJ3JlZCdcblx0fVxufSlcblxuY29uc3Rcblx0c3R5bGl6ZVdpdGhDb2xvciA9IChzdHIsIHN0eWxlVHlwZSkgPT4ge1xuXHRcdGxldCBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV1cblxuXHRcdGlmIChzdHlsZSlcblx0XHRcdHJldHVybiAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzBdICsgJ20nICsgc3RyICtcblx0XHRcdFx0ICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMV0gKyAnbSdcblx0XHRlbHNlXG5cdFx0XHRyZXR1cm4gc3RyXG5cdH0sXG5cblx0c3R5bGl6ZU5vQ29sb3IgPSBzdHIgPT4gc3RyLFxuXG5cdC8vV2hhdCBpcyB0aGlzIGZvcj9cblx0YXJyYXlUb0hhc2ggPSBhcnJheSA9PiB7XG5cdFx0bGV0IGhhc2ggPSB7fVxuXG5cdFx0Zm9yIChsZXQgdmFsIG9mIGFycmF5KSB7XG5cdFx0XHRoYXNoW3ZhbF0gPSB0cnVlXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGhhc2hcblx0fSxcblxuXHRnZXRDb25zdHJ1Y3Rvck9mID0gb2JqID0+IHtcblx0XHR3aGlsZSAob2JqKSB7XG5cdFx0XHRsZXQgZGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCAnY29uc3RydWN0b3InKVxuXHRcdFx0aWYgKGRlc2NyaXB0b3IgIT09IHVuZGVmaW5lZCAmJlxuXHRcdFx0XHRcdHR5cGVvZiBkZXNjcmlwdG9yLnZhbHVlID09PSAnZnVuY3Rpb24nICYmXG5cdFx0XHRcdFx0ZGVzY3JpcHRvci52YWx1ZS5uYW1lICE9PSAnJylcblx0XHRcdFx0cmV0dXJuIGRlc2NyaXB0b3IudmFsdWVcblxuXHRcdFx0b2JqID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKG9iailcblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbFxuXHR9LFxuXG5cdGluc3BlY3RQcm9taXNlID0gKCkgPT4ge1xuXHRcdC8vVE9ETzogdGhpcyB3YXMgdXNpbmcgRGVidWcuLi5cblx0XHRyZXR1cm4gbnVsbFxuXHR9XG5cblxuY29uc3QgZm9ybWF0VmFsdWUgPSAoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzKSA9PiB7XG5cdC8vIFByb3ZpZGUgYSBob29rIGZvciB1c2VyLXNwZWNpZmllZCBpbnNwZWN0IGZ1bmN0aW9ucy5cblx0Ly8gQ2hlY2sgdGhhdCB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhbiBpbnNwZWN0IGZ1bmN0aW9uIG9uIGl0XG5cdGlmIChjdHguY3VzdG9tSW5zcGVjdCAmJlxuXHRcdFx0dmFsdWUgJiZcblx0XHRcdHR5cGVvZiB2YWx1ZS5pbnNwZWN0ID09PSAnZnVuY3Rpb24nICYmXG5cdFx0XHQvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcblx0XHRcdHZhbHVlLmluc3BlY3QgIT09IGluc3BlY3QgJiZcblx0XHRcdC8vIEFsc28gZmlsdGVyIG91dCBhbnkgcHJvdG90eXBlIG9iamVjdHMgdXNpbmcgdGhlIGNpcmN1bGFyIGNoZWNrLlxuXHRcdFx0ISh2YWx1ZS5jb25zdHJ1Y3RvciAmJiB2YWx1ZS5jb25zdHJ1Y3Rvci5wcm90b3R5cGUgPT09IHZhbHVlKSkge1xuXHRcdGxldCByZXQgPSB2YWx1ZS5pbnNwZWN0KHJlY3Vyc2VUaW1lcywgY3R4KVxuXHRcdGlmICh0eXBlb2YgcmV0ICE9PSAnc3RyaW5nJylcblx0XHRcdHJldCA9IGZvcm1hdFZhbHVlKGN0eCwgcmV0LCByZWN1cnNlVGltZXMpXG5cdFx0cmV0dXJuIHJldFxuXHR9XG5cblx0Ly8gUHJpbWl0aXZlIHR5cGVzIGNhbm5vdCBoYXZlIHByb3BlcnRpZXNcblx0bGV0IHByaW1pdGl2ZSA9IGZvcm1hdFByaW1pdGl2ZShjdHgsIHZhbHVlKVxuXHRpZiAocHJpbWl0aXZlKVxuXHRcdHJldHVybiBwcmltaXRpdmVcblxuXHQvLyBMb29rIHVwIHRoZSBrZXlzIG9mIHRoZSBvYmplY3QuXG5cdGxldCBrZXlzID0gT2JqZWN0LmtleXModmFsdWUpXG5cdGxldCB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpXG5cblx0aWYgKGN0eC5zaG93SGlkZGVuKSB7XG5cdFx0a2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHZhbHVlKVxuXHRcdGtleXMgPSBrZXlzLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHZhbHVlKSlcblx0fVxuXG5cdC8vIFRoaXMgY291bGQgYmUgYSBib3hlZCBwcmltaXRpdmUgKG5ldyBTdHJpbmcoKSwgZXRjLiksIGNoZWNrIHZhbHVlT2YoKVxuXHQvLyBOT1RFOiBBdm9pZCBjYWxsaW5nIGB2YWx1ZU9mYCBvbiBgRGF0ZWAgaW5zdGFuY2UgYmVjYXVzZSBpdCB3aWxsIHJldHVyblxuXHQvLyBhIG51bWJlciB3aGljaCwgd2hlbiBvYmplY3QgaGFzIHNvbWUgYWRkaXRpb25hbCB1c2VyLXN0b3JlZCBga2V5c2AsXG5cdC8vIHdpbGwgYmUgcHJpbnRlZCBvdXQuXG5cdGxldCBmb3JtYXR0ZWRcblx0bGV0IHJhdyA9IHZhbHVlXG5cdHRyeSB7XG5cdFx0Ly8gdGhlIC52YWx1ZU9mKCkgY2FsbCBjYW4gZmFpbCBmb3IgYSBtdWx0aXR1ZGUgb2YgcmVhc29uc1xuXHRcdGlmICghaXNEYXRlKHZhbHVlKSlcblx0XHRcdHJhdyA9IHZhbHVlLnZhbHVlT2YoKVxuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gaWdub3JlLi4uXG5cdH1cblxuXHRpZiAodHlwZW9mIHJhdyA9PT0gJ3N0cmluZycpXG5cdFx0Ly8gZm9yIGJveGVkIFN0cmluZ3MsIHdlIGhhdmUgdG8gcmVtb3ZlIHRoZSAwLW4gaW5kZXhlZCBlbnRyaWVzLFxuXHRcdC8vIHNpbmNlIHRoZXkganVzdCBub2lzZXkgdXAgdGhlIG91dHB1dCBhbmQgYXJlIHJlZHVuZGFudFxuXHRcdGtleXMgPSBrZXlzLmZpbHRlcihrZXkgPT5cblx0XHRcdCEoa2V5ID49IDAgJiYga2V5IDwgcmF3Lmxlbmd0aCkpXG5cblx0Ly8gU29tZSB0eXBlIG9mIG9iamVjdCB3aXRob3V0IHByb3BlcnRpZXMgY2FuIGJlIHNob3J0Y3V0dGVkLlxuXHRpZiAoa2V5cy5sZW5ndGggPT09IDApIHtcblx0XHRpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRsZXQgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnXG5cdFx0XHRyZXR1cm4gY3R4LnN0eWxpemUoJ1tGdW5jdGlvbicgKyBuYW1lICsgJ10nLCAnc3BlY2lhbCcpXG5cdFx0fVxuXHRcdGlmIChpc1JlZ0V4cCh2YWx1ZSkpXG5cdFx0XHRyZXR1cm4gY3R4LnN0eWxpemUoUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ3JlZ2V4cCcpXG5cdFx0aWYgKGlzRGF0ZSh2YWx1ZSkpXG5cdFx0XHRyZXR1cm4gY3R4LnN0eWxpemUoRGF0ZS5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdkYXRlJylcblx0XHRpZiAoaXNFcnJvcih2YWx1ZSkpXG5cdFx0XHRyZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpXG5cdFx0Ly8gbm93IGNoZWNrIHRoZSBgcmF3YCB2YWx1ZSB0byBoYW5kbGUgYm94ZWQgcHJpbWl0aXZlc1xuXHRcdGlmICh0eXBlb2YgcmF3ID09PSAnc3RyaW5nJykge1xuXHRcdFx0Zm9ybWF0dGVkID0gZm9ybWF0UHJpbWl0aXZlTm9Db2xvcihjdHgsIHJhdylcblx0XHRcdHJldHVybiBjdHguc3R5bGl6ZSgnW1N0cmluZzogJyArIGZvcm1hdHRlZCArICddJywgJ3N0cmluZycpXG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgcmF3ID09PSAnbnVtYmVyJykge1xuXHRcdFx0Zm9ybWF0dGVkID0gZm9ybWF0UHJpbWl0aXZlTm9Db2xvcihjdHgsIHJhdylcblx0XHRcdHJldHVybiBjdHguc3R5bGl6ZSgnW051bWJlcjogJyArIGZvcm1hdHRlZCArICddJywgJ251bWJlcicpXG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgcmF3ID09PSAnYm9vbGVhbicpIHtcblx0XHRcdGZvcm1hdHRlZCA9IGZvcm1hdFByaW1pdGl2ZU5vQ29sb3IoY3R4LCByYXcpXG5cdFx0XHRyZXR1cm4gY3R4LnN0eWxpemUoJ1tCb29sZWFuOiAnICsgZm9ybWF0dGVkICsgJ10nLCAnYm9vbGVhbicpXG5cdFx0fVxuXHR9XG5cblx0bGV0IGNvbnN0cnVjdG9yID0gZ2V0Q29uc3RydWN0b3JPZih2YWx1ZSlcblx0bGV0IGJhc2UgPSAnJywgZW1wdHkgPSBmYWxzZSwgYnJhY2VzLCBmb3JtYXR0ZXJcblxuXHRpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRpZiAoY29uc3RydWN0b3IgPT09IEFycmF5KVxuXHRcdFx0Y29uc3RydWN0b3IgPSBudWxsXG5cdFx0YnJhY2VzID0gWydbJywgJ10nXVxuXHRcdGVtcHR5ID0gdmFsdWUubGVuZ3RoID09PSAwXG5cdFx0Zm9ybWF0dGVyID0gZm9ybWF0QXJyYXlcblx0fSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFNldCkge1xuXHRcdGJyYWNlcyA9IFsneycsICd9J11cblx0XHQvLyBXaXRoIGBzaG93SGlkZGVuYCwgYGxlbmd0aGAgd2lsbCBkaXNwbGF5IGFzIGEgaGlkZGVuIHByb3BlcnR5IGZvclxuXHRcdC8vIGFycmF5cy4gRm9yIGNvbnNpc3RlbmN5J3Mgc2FrZSwgZG8gdGhlIHNhbWUgZm9yIGBzaXplYCwgZXZlbiB0aG91Z2ggdGhpc1xuXHRcdC8vIHByb3BlcnR5IGlzbid0IHNlbGVjdGVkIGJ5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKCkuXG5cdFx0aWYgKGN0eC5zaG93SGlkZGVuKVxuXHRcdFx0a2V5cy51bnNoaWZ0KCdzaXplJylcblx0XHRlbXB0eSA9IHZhbHVlLnNpemUgPT09IDBcblx0XHRmb3JtYXR0ZXIgPSBmb3JtYXRTZXRcblx0fSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIE1hcCkge1xuXHRcdGJyYWNlcyA9IFsneycsICd9J11cblx0XHQvLyBEaXR0by5cblx0XHRpZiAoY3R4LnNob3dIaWRkZW4pXG5cdFx0XHRrZXlzLnVuc2hpZnQoJ3NpemUnKVxuXHRcdGVtcHR5ID0gdmFsdWUuc2l6ZSA9PT0gMFxuXHRcdGZvcm1hdHRlciA9IGZvcm1hdE1hcFxuXHR9IGVsc2Uge1xuXHRcdC8vIE9ubHkgY3JlYXRlIGEgbWlycm9yIGlmIHRoZSBvYmplY3Qgc3VwZXJmaWNpYWxseSBsb29rcyBsaWtlIGEgUHJvbWlzZS5cblx0XHRsZXQgcHJvbWlzZUludGVybmFscyA9IHZhbHVlIGluc3RhbmNlb2YgUHJvbWlzZSAmJiBpbnNwZWN0UHJvbWlzZSh2YWx1ZSlcblx0XHRpZiAocHJvbWlzZUludGVybmFscykge1xuXHRcdFx0YnJhY2VzID0gWyd7JywgJ30nXVxuXHRcdFx0Zm9ybWF0dGVyID0gZm9ybWF0UHJvbWlzZVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoY29uc3RydWN0b3IgPT09IE9iamVjdClcblx0XHRcdFx0Y29uc3RydWN0b3IgPSBudWxsXG5cdFx0XHRicmFjZXMgPSBbJ3snLCAnfSddXG5cdFx0XHRlbXB0eSA9IHRydWUgIC8vIE5vIG90aGVyIGRhdGEgdGhhbiBrZXlzLlxuXHRcdFx0Zm9ybWF0dGVyID0gZm9ybWF0T2JqZWN0XG5cdFx0fVxuXHR9XG5cblx0ZW1wdHkgPSBlbXB0eSA9PT0gdHJ1ZSAmJiBrZXlzLmxlbmd0aCA9PT0gMFxuXG5cdC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuXHRpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0bGV0IG4gPSB2YWx1ZS5uYW1lID8gJzogJyArIHZhbHVlLm5hbWUgOiAnJ1xuXHRcdGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nXG5cdH1cblxuXHQvLyBNYWtlIFJlZ0V4cHMgc2F5IHRoYXQgdGhleSBhcmUgUmVnRXhwc1xuXHRpZiAoaXNSZWdFeHAodmFsdWUpKVxuXHRcdGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpXG5cblx0Ly9UT0RPOiBlbHNlIGlmXG5cdC8vIE1ha2UgZGF0ZXMgd2l0aCBwcm9wZXJ0aWVzIGZpcnN0IHNheSB0aGUgZGF0ZVxuXHRpZiAoaXNEYXRlKHZhbHVlKSlcblx0XHRiYXNlID0gJyAnICsgRGF0ZS5wcm90b3R5cGUudG9VVENTdHJpbmcuY2FsbCh2YWx1ZSlcblxuXHQvLyBNYWtlIGVycm9yIHdpdGggbWVzc2FnZSBmaXJzdCBzYXkgdGhlIGVycm9yXG5cdGlmIChpc0Vycm9yKHZhbHVlKSlcblx0XHRiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpXG5cblx0Ly8gTWFrZSBib3hlZCBwcmltaXRpdmUgU3RyaW5ncyBsb29rIGxpa2Ugc3VjaFxuXHRpZiAodHlwZW9mIHJhdyA9PT0gJ3N0cmluZycpIHtcblx0XHRmb3JtYXR0ZWQgPSBmb3JtYXRQcmltaXRpdmVOb0NvbG9yKGN0eCwgcmF3KVxuXHRcdGJhc2UgPSAnICcgKyAnW1N0cmluZzogJyArIGZvcm1hdHRlZCArICddJ1xuXHR9XG5cblx0Ly8gTWFrZSBib3hlZCBwcmltaXRpdmUgTnVtYmVycyBsb29rIGxpa2Ugc3VjaFxuXHRpZiAodHlwZW9mIHJhdyA9PT0gJ251bWJlcicpIHtcblx0XHRmb3JtYXR0ZWQgPSBmb3JtYXRQcmltaXRpdmVOb0NvbG9yKGN0eCwgcmF3KVxuXHRcdGJhc2UgPSAnICcgKyAnW051bWJlcjogJyArIGZvcm1hdHRlZCArICddJ1xuXHR9XG5cblx0Ly8gTWFrZSBib3hlZCBwcmltaXRpdmUgQm9vbGVhbnMgbG9vayBsaWtlIHN1Y2hcblx0aWYgKHR5cGVvZiByYXcgPT09ICdib29sZWFuJykge1xuXHRcdGZvcm1hdHRlZCA9IGZvcm1hdFByaW1pdGl2ZU5vQ29sb3IoY3R4LCByYXcpXG5cdFx0YmFzZSA9ICcgJyArICdbQm9vbGVhbjogJyArIGZvcm1hdHRlZCArICddJ1xuXHR9XG5cblx0Ly8gQWRkIGNvbnN0cnVjdG9yIG5hbWUgaWYgYXZhaWxhYmxlXG5cdGlmIChiYXNlID09PSAnJyAmJiBjb25zdHJ1Y3Rvcilcblx0XHRicmFjZXNbMF0gPSBjb25zdHJ1Y3Rvci5uYW1lICsgJyAnICsgYnJhY2VzWzBdXG5cblx0aWYgKGVtcHR5ID09PSB0cnVlKVxuXHRcdHJldHVybiBicmFjZXNbMF0gKyBiYXNlICsgYnJhY2VzWzFdXG5cblx0aWYgKHJlY3Vyc2VUaW1lcyA8IDApXG5cdFx0cmV0dXJuIGlzUmVnRXhwKHZhbHVlKSA/XG5cdFx0XHRjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJykgOlxuXHRcdFx0Y3R4LnN0eWxpemUoJ1tPYmplY3RdJywgJ3NwZWNpYWwnKVxuXG5cdGN0eC5zZWVuLnB1c2godmFsdWUpXG5cblx0bGV0IG91dHB1dCA9IGZvcm1hdHRlcihjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLCBrZXlzKVxuXG5cdGN0eC5zZWVuLnBvcCgpXG5cblx0cmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKVxufVxuXG5jb25zdCBmb3JtYXRQcmltaXRpdmUgPSAoY3R4LCB2YWx1ZSkgPT4ge1xuXHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZClcblx0XHRyZXR1cm4gY3R4LnN0eWxpemUoJ3VuZGVmaW5lZCcsICd1bmRlZmluZWQnKVxuXG5cdC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyBcIm9iamVjdFwiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS5cblx0aWYgKHZhbHVlID09PSBudWxsKVxuXHRcdHJldHVybiBjdHguc3R5bGl6ZSgnbnVsbCcsICdudWxsJylcblxuXHRsZXQgdHlwZSA9IHR5cGVvZiB2YWx1ZVxuXG5cdGlmICh0eXBlID09PSAnc3RyaW5nJykge1xuXHRcdGxldCBzaW1wbGUgPSAnXFwnJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKS5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKVxuXHRcdFx0XHQucmVwbGFjZSgvJy9nLCAnXFxcXFxcJycpXG5cdFx0XHRcdC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJykgKyAnXFwnJ1xuXHRcdHJldHVybiBjdHguc3R5bGl6ZShzaW1wbGUsICdzdHJpbmcnKVxuXHR9XG5cdGlmICh0eXBlID09PSAnbnVtYmVyJykge1xuXHRcdC8vIEZvcm1hdCAtMCBhcyAnLTAnLiBTdHJpY3QgZXF1YWxpdHkgd29uJ3QgZGlzdGluZ3Vpc2ggMCBmcm9tIC0wLFxuXHRcdC8vIHNvIGluc3RlYWQgd2UgdXNlIHRoZSBmYWN0IHRoYXQgMSAvIC0wIDwgMCB3aGVyZWFzIDEgLyAwID4gMCAuXG5cdFx0aWYgKHZhbHVlID09PSAwICYmIDEgLyB2YWx1ZSA8IDApXG5cdFx0XHRyZXR1cm4gY3R4LnN0eWxpemUoJy0wJywgJ251bWJlcicpXG5cdFx0cmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKVxuXHR9XG5cdGlmICh0eXBlID09PSAnYm9vbGVhbicpXG5cdFx0cmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJylcblx0Ly8gZXM2IHN5bWJvbCBwcmltaXRpdmVcblx0aWYgKHR5cGUgPT09ICdzeW1ib2wnKVxuXHRcdHJldHVybiBjdHguc3R5bGl6ZSh2YWx1ZS50b1N0cmluZygpLCAnc3ltYm9sJylcbn1cblxuXG5jb25zdFxuXHRmb3JtYXRQcmltaXRpdmVOb0NvbG9yID0gKGN0eCwgdmFsdWUpID0+IHtcblx0XHRsZXQgc3R5bGl6ZSA9IGN0eC5zdHlsaXplXG5cdFx0Y3R4LnN0eWxpemUgPSBzdHlsaXplTm9Db2xvclxuXHRcdGxldCBzdHIgPSBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSlcblx0XHRjdHguc3R5bGl6ZSA9IHN0eWxpemVcblx0XHRyZXR1cm4gc3RyXG5cdH0sXG5cblx0Zm9ybWF0RXJyb3IgPSB2YWx1ZSA9PlxuXHRcdCdbJyArIEVycm9yLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSArICddJyxcblxuXHRmb3JtYXRPYmplY3QgPSAoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykgPT5cblx0XHRrZXlzLm1hcChrZXkgPT4gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBmYWxzZSkpLFxuXG5cdGZvcm1hdEFycmF5ID0gKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpID0+IHtcblx0XHRsZXQgb3V0cHV0ID0gW11cblx0XHRmb3IgKGxldCBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7IGkgPSBpICsgMSlcblx0XHRcdGlmIChoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgU3RyaW5nKGkpKSlcblx0XHRcdFx0b3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcblx0XHRcdFx0XHRcdFN0cmluZyhpKSwgdHJ1ZSkpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdG91dHB1dC5wdXNoKCcnKVxuXHRcdGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG5cdFx0XHRpZiAodHlwZW9mIGtleSA9PT0gJ3N5bWJvbCcgfHwgIWtleS5tYXRjaCgvXlxcZCskLykpXG5cdFx0XHRcdG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG5cdFx0XHRcdFx0XHRrZXksIHRydWUpKVxuXHRcdH1cblx0XHRyZXR1cm4gb3V0cHV0XG5cdH0sXG5cblx0Zm9ybWF0U2V0ID0gKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpID0+IHtcblx0XHRsZXQgb3V0cHV0ID0gW11cblx0XHRmb3IgKGxldCB2IG9mIHZhbHVlKSB7XG5cdFx0XHRsZXQgbmV4dFJlY3Vyc2VUaW1lcyA9IHJlY3Vyc2VUaW1lcyA9PT0gbnVsbCA/IG51bGwgOiByZWN1cnNlVGltZXMgLSAxXG5cdFx0XHRsZXQgc3RyID0gZm9ybWF0YWx1ZShjdHgsIHYsIG5leHRSZWN1cnNlVGltZXMpXG5cdFx0XHRvdXRwdXQucHVzaChzdHIpXG5cdFx0fVxuXHRcdGZvciAobGV0IGtleSBvZiBrZXlzKVxuXHRcdFx0b3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0IGtleSwgZmFsc2UpKVxuXHRcdHJldHVybiBvdXRwdXRcblx0fSxcblxuXHRmb3JtYXRNYXAgPSAoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5cykgPT4ge1xuXHRcdGxldCBvdXRwdXQgPSBbXVxuXHRcdHZhbHVlLmZvckVhY2goKHYsIGspID0+IHtcblx0XHRcdGxldCBuZXh0UmVjdXJzZVRpbWVzID0gcmVjdXJzZVRpbWVzID09PSBudWxsID8gbnVsbCA6IHJlY3Vyc2VUaW1lcyAtIDFcblx0XHRcdGxldCBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGssIG5leHRSZWN1cnNlVGltZXMpXG5cdFx0XHRzdHIgPSBzdHIgKyAnID0+ICdcblx0XHRcdHN0ciA9IHN0ciArIGZvcm1hdFZhbHVlKGN0eCwgdiwgbmV4dFJlY3Vyc2VUaW1lcylcblx0XHRcdG91dHB1dC5wdXNoKHN0cilcblx0XHR9KVxuXHRcdGZvciAobGV0IGtleSBvZiBrZXlzKSB7XG5cdFx0XHRvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQga2V5LCBmYWxzZSkpXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXRcblx0fSxcblxuXHRmb3JtYXRQcm9taXNlID0gKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpID0+IHtcblx0XHRsZXQgb3V0cHV0ID0gW11cblx0XHRsZXQgaW50ZXJuYWxzID0gaW5zcGVjdFByb21pc2UodmFsdWUpXG5cdFx0aWYgKGludGVybmFscy5zdGF0dXMgPT09ICdwZW5kaW5nJylcblx0XHRcdG91dHB1dC5wdXNoKCc8cGVuZGluZz4nKVxuXHRcdGVsc2Uge1xuXHRcdFx0bGV0IG5leHRSZWN1cnNlVGltZXMgPSByZWN1cnNlVGltZXMgPT09IG51bGwgPyBudWxsIDogcmVjdXJzZVRpbWVzIC0gMVxuXHRcdFx0bGV0IHN0ciA9IGZvcm1hdFZhbHVlKGN0eCwgaW50ZXJuYWxzLnZhbHVlLCBuZXh0UmVjdXJzZVRpbWVzKVxuXHRcdFx0aWYgKGludGVybmFscy5zdGF0dXMgPT09ICdyZWplY3RlZCcpXG5cdFx0XHRcdG91dHB1dC5wdXNoKCc8cmVqZWN0ZWQ+ICcgKyBzdHIpXG5cdFx0XHRlbHNlXG5cdFx0XHRcdG91dHB1dC5wdXNoKHN0cilcblx0XHR9XG5cdFx0Zm9yIChsZXQga2V5IG9mIGtleXMpIHtcblx0XHRcdG91dHB1dC5wdXNoKGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdCBrZXksIGZhbHNlKSlcblx0XHR9XG5cdFx0cmV0dXJuIG91dHB1dFxuXHR9LFxuXG5cdGZvcm1hdFByb3BlcnR5ID0gKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpID0+IHtcblx0XHRsZXQgbmFtZSwgc3RyLCBkZXNjXG5cdFx0ZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodmFsdWUsIGtleSkgfHwgeyB2YWx1ZTogdmFsdWVba2V5XSB9XG5cdFx0aWYgKGRlc2MuZ2V0KVxuXHRcdFx0c3RyID0gZGVzYy5zZXQgP1xuXHRcdFx0XHRjdHguc3R5bGl6ZSgnW0dldHRlci9TZXR0ZXJdJywgJ3NwZWNpYWwnKSA6XG5cdFx0XHRcdGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJylcblx0XHRlbHNlIGlmIChkZXNjLnNldClcblx0XHRcdHN0ciA9IGN0eC5zdHlsaXplKCdbU2V0dGVyXScsICdzcGVjaWFsJylcblxuXHRcdGlmICghaGFzT3duUHJvcGVydHkodmlzaWJsZUtleXMsIGtleSkpXG5cdFx0XHRuYW1lID0gdHlwZW9mIGtleSA9PT0gJ3N5bWJvbCcgP1xuXHRcdFx0XHQnWycgKyBjdHguc3R5bGl6ZShrZXkudG9TdHJpbmcoKSwgJ3N5bWJvbCcpICsgJ10nIDpcblx0XHRcdFx0J1snICsga2V5ICsgJ10nXG5cdFx0aWYgKCFzdHIpIHtcblx0XHRcdGlmIChjdHguc2Vlbi5pbmRleE9mKGRlc2MudmFsdWUpIDwgMCkge1xuXHRcdFx0XHRzdHIgPSByZWN1cnNlVGltZXMgPT09IG51bGwgP1xuXHRcdFx0XHRcdGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgbnVsbCkgOlxuXHRcdFx0XHRcdGZvcm1hdFZhbHVlKGN0eCwgZGVzYy52YWx1ZSwgcmVjdXJzZVRpbWVzIC0gMSlcblx0XHRcdFx0aWYgKHN0ci5pbmRleE9mKCdcXG4nKSA+IC0xKSB7XG5cdFx0XHRcdFx0c3RyID0gJ1xcbicgKyBzdHIuc3BsaXQoJ1xcbicpLm1hcChsaW5lID0+ICcgICAnICsgbGluZSkuam9pbignXFxuJylcblx0XHRcdFx0XHRpZiAoYXJyYXkpXG5cdFx0XHRcdFx0XHRzdHIgPSBzdHIuc3Vic3RyKDIpXG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZVxuXHRcdFx0XHRzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJylcblx0XHR9XG5cdFx0aWYgKG5hbWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0aWYgKGFycmF5ICYmIGtleS5tYXRjaCgvXlxcZCskLykpXG5cdFx0XHRcdHJldHVybiBzdHJcblx0XHRcdG5hbWUgPSBKU09OLnN0cmluZ2lmeSgnJyArIGtleSlcblx0XHRcdGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuXHRcdFx0XHRuYW1lID0gbmFtZS5zdWJzdHIoMSwgbmFtZS5sZW5ndGggLSAyKVxuXHRcdFx0XHRuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bmFtZSA9IG5hbWUucmVwbGFjZSgvJy9nLCAnXFxcXFxcJycpXG5cdFx0XHRcdFx0XHRcdFx0XHQgLnJlcGxhY2UoL1xcXFxcIi9nLCAnXCInKVxuXHRcdFx0XHRcdFx0XHRcdFx0IC5yZXBsYWNlKC8oXlwifFwiJCkvZywgJ1xcJycpXG5cdFx0XHRcdFx0XHRcdFx0XHQgLnJlcGxhY2UoL1xcXFxcXFxcL2csICdcXFxcJylcblx0XHRcdFx0bmFtZSA9IGN0eC5zdHlsaXplKG5hbWUsICdzdHJpbmcnKVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBuYW1lICsgJzogJyArIHN0clxuXHR9LFxuXG5cdHJlZHVjZVRvU2luZ2xlU3RyaW5nID0gKG91dHB1dCwgYmFzZSwgYnJhY2VzKSA9PiB7XG5cdFx0bGV0IGxlbmd0aCA9IG91dHB1dC5yZWR1Y2UoXG5cdFx0XHQocHJldiwgY3VyKSA9PnByZXYgKyBjdXIucmVwbGFjZSgvXFx1MDAxYlxcW1xcZFxcZD9tL2csICcnKS5sZW5ndGggKyAxLFxuXHRcdFx0MClcblxuXHRcdGlmIChsZW5ndGggPiA2MClcblx0XHRcdHJldHVybiBicmFjZXNbMF0gK1xuXHRcdFx0XHRcdFx0IC8vIElmIHRoZSBvcGVuaW5nIFwiYnJhY2VcIiBpcyB0b28gbGFyZ2UsIGxpa2UgaW4gdGhlIGNhc2Ugb2YgXCJTZXQge1wiLFxuXHRcdFx0XHRcdFx0IC8vIHdlIG5lZWQgdG8gZm9yY2UgdGhlIGZpcnN0IGl0ZW0gdG8gYmUgb24gdGhlIG5leHQgbGluZSBvciB0aGVcblx0XHRcdFx0XHRcdCAvLyBpdGVtcyB3aWxsIG5vdCBsaW5lIHVwIGNvcnJlY3RseS5cblx0XHRcdFx0XHRcdCAoYmFzZSA9PT0gJycgJiYgYnJhY2VzWzBdLmxlbmd0aCA9PT0gMSA/ICcnIDogYmFzZSArICdcXG4gJykgK1xuXHRcdFx0XHRcdFx0ICcgJyArXG5cdFx0XHRcdFx0XHQgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcblx0XHRcdFx0XHRcdCAnICcgK1xuXHRcdFx0XHRcdFx0IGJyYWNlc1sxXVxuXG5cdFx0cmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXVxuXHR9XG5cbmNvbnN0XG5cdGlzUmVnRXhwID0gcmUgPT4gb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJyxcblx0aXNEYXRlID0gZCA9PiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nLFxuXHRpc0Vycm9yID0gZSA9PiBvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IsXG5cdG9iamVjdFRvU3RyaW5nID0gbyA9PiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyksXG5cdGhhc093blByb3BlcnR5ID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcClcbiJdLCJzb3VyY2VSb290IjoiL3NyYyJ9