{"version":3,"sources":["private/js-impl.js"],"names":[],"mappings":"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","file":"private/js-impl.js","sourcesContent":["const { bool, unlazy } = _ms\n\nexport\tconst\n\t// js.ms\n\tiNew = function(ctr, a, b, c) {\n\t\t// TODO:ES6 return new ctr(...args)\n\t\tswitch (arguments.length) {\n\t\t\tcase 0: throw new Error('`new` needs a constructor.')\n\t\t\tcase 1: return new ctr()\n\t\t\tcase 2: return new ctr(a)\n\t\t\tcase 3: return new ctr(a, b)\n\t\t\tcase 4: return new ctr(a, b, c)\n\t\t\tdefault: throw new Error('This many arguments not supported.')\n\t\t}\n\t},\n\n\t// Bool.ms\n\t// TODO:ES6 ...args\n\tiAnd = function() {\n\t\tconst args = arguments\n\t\tswitch (args.length) {\n\t\t\tcase 0: return true\n\t\t\tcase 1: return bool(args[0])\n\t\t\tcase 2: return bool(args[0]) && bool(unlazy(args[1]))\n\t\t\tcase 3: return bool(args[0]) && bool(unlazy(args[1])) && bool(unlazy(args[2]))\n\t\t\tdefault:\n\t\t\t\tif (!bool(args[0]))\n\t\t\t\t\treturn false\n\t\t\t\tfor (let i = 1; i < args.length; i = i + 1)\n\t\t\t\t\tif (!bool(unlazy(args[i])))\n\t\t\t\t\t\treturn false\n\t\t\t\treturn true\n\t\t}\n\t},\n\t// TODO:ES6 (...args) => {\n\tiOr = function() {\n\t\tconst args = arguments\n\t\tswitch (args.length) {\n\t\t\tcase 0: return false\n\t\t\tcase 1: return bool(args[0])\n\t\t\tcase 2: return bool(args[0]) || bool(unlazy(args[1]))\n\t\t\tcase 3: return bool(args[0]) || bool(unlazy(args[1])) || bool(unlazy(args[2]))\n\t\t\tdefault:\n\t\t\t\tif (bool(args[0]))\n\t\t\t\t\treturn true\n\t\t\t\tfor (let i = 1; i < args.length; i = i + 1)\n\t\t\t\t\tif (bool(unlazy(args[i])))\n\t\t\t\t\t\treturn true\n\t\t\t\treturn true\n\t\t}\n\t},\n\n\t// Kind.ms\n\tKindContains = (kind, _) =>\n\t\t_ != null && _[kind['symbol-for-isa']] !== undefined,\n\tisEmpty = array => array.length === 0,\n\n\t// Generator.ms\n\teachGenerator = function*(iter, doEach) {\n\t\tfor (let em of iter)\n\t\t\tyield* doEach(em)\n\t},\n\n\t// Try.ms\n\tohNo = error => { throw makeError(error) },\n\talwaysDoAfter = (tried, finallyDo) => {\n\t\ttry {\n\t\t\treturn tried()\n\t\t} finally {\n\t\t\tfinallyDo()\n\t\t}\n\t},\n\tiTry = (Success, tried) => {\n\t\ttry {\n\t\t\treturn Success(tried())\n\t\t} catch (e) {\n\t\t\treturn e\n\t\t}\n\t},\n\tmakeError = error => {\n\t\tlet err\n\t\ttry {\n\t\t\terr = _ms.unlazy(error)\n\t\t} catch (e) {\n\t\t\treturn makeError(e)\n\t\t\t// TODO: return new Error ('Error making error: ' + e.message)\n\t\t}\n\t\tif (err instanceof Error)\n\t\t\treturn err\n\t\telse if (typeof err === 'string')\n\t\t\treturn new Error(err)\n\t\telse if (err === undefined)\n\t\t\treturn new Error('Oh no!')\n\t\telse\n\t\t\tthrow new Error('Argument to `oh-no!` must be Error or String')\n\t},\n\n\t// Array.ms\n\t// TODO:ES6 Shouldn't need this.\n\tarrayIterator = function*(_) {\n\t\tfor (let i = 0; i < _.length; i = i + 1)\n\t\t\tyield _[i]\n\t},\n\n\t// show.ms\n\tnewSet = () => new global.Set(),\n\n\t// Hash-Map.ms\n\tmakeMap = (hm, assoc, args) => {\n\t\tlet i = 0\n\t\twhile (i < args.length) {\n\t\t\tconst key = args[i]\n\t\t\ti = i + 1\n\t\t\tconst val = args[i]\n\t\t\ti = i + 1\n\t\t\tassoc(hm, key, val)\n\t\t}\n\t},\n\n\t// Obj-Type.ms and Method.ms and Wrap-Type.ms\n\tbuildStr = builder => {\n\t\tlet s = ''\n\t\tbuilder(str => { s = s + str + '\\n' })\n\t\treturn s\n\t},\n\t// Obj-Type.ms\n\taddOne = _ => _ + 1,\n\n\t// perf-test.ms\n\ttimeStar = (times, timeMe) => {\n\t\tlet i = times\n\t\tconst out = []\n\t\twhile (i > 0) {\n\t\t\ti = i - 1\n\t\t\tout.push(timeMe(i))\n\t\t}\n\t\treturn out\n\t},\n\n\t// Fun.ms\n\t// TODO:ES6 (f, ...args) => Function.prototype.bind.call(f, null, ...args)\n\tiCurry = function(f) {\n\t\treturn Function.prototype.bind.apply(f, arguments)\n\t}\n"],"sourceRoot":"/src"}